(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1006:function(e,a){},1012:function(e,a){},2077:function(e,a,t){},2080:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(26),i=t(42),s=(t(346),t(137)),l=t.n(s),c=t(617),d=t(296),u=t(417),f=t(418),p=t(22),m=t(967),v=t.n(m),h=t(968),b=t.n(h),g=function(e){var a=e.localeId,t=e.messages,n=e.children;return r.a.createElement(p.b,{locale:a,key:a,messages:t[a]},r.a.Children.only(n))},E=function(e){return"".concat(e,"/").concat(e)},y=t(176),w=t(419),O=t(618),I=t(421),j=t(422),D=function(e,a){return{type:"@@app/SET_PENDING",payload:{id:e,is:a}}},x=t(70),A=t(204),_=t(66),N=t(696),S=t(622),F=t(433),T=t(203),C=t(695),L=t(688),R=t(124),k=t(719),P=t(444),G=t(201),H=t(712),M=t(705),U=t(424),B=t(702),V=t(425),q=t(426),W=t(434),z=t(623),X=t(717),Y=t(78),Q=t(299),K=t(963),$=t(718),J=t(721),Z=t(300),ee=t(706),ae=t(704),te=t(724),ne=t(441),re=t(699),oe=t(436),ie=t(303),se=t(68),le=t(301),ce=t(969),de=t.n(ce),ue=t(621),fe=t(423),pe=t(427),me=ue.a({},"sdmx",window.SETTINGS),ve=G.a(d.a)(d.a("datasources",me)),he=d.a("range",me),be=R.a(["period","default"],me),ge=fe.a([],["period","boundaries"],me),Ee={min:V.a(ge),max:q.a(ge)},ye=function(e){return P.a(fe.a([],["attributes",e]),S.a(pe.a(Array),T.a,G.a(z.a)([])))(me)},we=ue.a({},"chart",window.SETTINGS),Oe=d.a("options",we),Ie=R.a(["unicef","indicatorProfileUrl"],window.SETTINGS),je=R.a(["unicef","indicatorCodelistID"],window.SETTINGS),De=(R.a(["helpUrl"],window.SETTINGS),R.a(["unicef","hideTotalLabel"],window.SETTINGS)),xe=R.a(["unicef","roundData"],window.SETTINGS),Ae=fe.a(0,["unicef","showDataflowNavigator"],window.SETTINGS),_e=fe.a([],["unicef","stickyDims"],window.SETTINGS),Ne=fe.a([],["unicef","dataflowsOnEvidence"],window.SETTINGS),Se=function(){var e=window.DATAFLOW.agencyId+":"+window.DATAFLOW.dataflowId;return window.SETTINGS.map&&window.SETTINGS.map[e]?window.SETTINGS.map[e]:null},Fe=function(){var e=Se();return null==e?null:e.ref_area_dim_id},Te=t(75),Ce=t(111),Le=t(109),Re=t(962),ke=t(691),Pe=t(690),Ge=t(711),He=t(964),Me=t(202),Ue=t(153),Be=t(692),Ve=t(694),qe=t(687),We=t(720),ze=t(972),Xe=t.n(ze),Ye=Be.a(pe.a(Number),Ve.a(_.a(NaN))),Qe=function(e){var a=e.index,t=e.id,n=e.annotations,r=e.selection;return oe.a(ae.a(r),u.a(r))?S.a(ae.a,qe.a,P.a(He.a($.a("type","DEFAULT")),Boolean))(n):!!d.a(Xe()("".concat(a).concat(t)))(r)},Ke=function(e){var a=P.a(fe.a([],["meta","content-languages"]),V.a)(e),t=P.a(fe.a([],["data","dataStructures"]),V.a,fe.a([],["dataStructureComponents","dimensionList","dimensions"]))(e),n=fe.a([],["data","conceptSchemes"])(e);if(Re.a(ke.a([u.a,ae.a]))([a,t,n]))return{dimensions:[],dataflow:{}};var r,o=fe.a([],["data","codelists"])(e),i=function(e){return P.a(fe.a("",["name",a]),S.a(ae.a,A.a("[".concat(e,"]")),T.a))},s=P.a(fe.a([],["data","dataflows"]),V.a,X.a(["id","version","agencyID","name"]),function(e){var a=e.id,t=e.agencyID,n=Object(Le.a)(e,["id","agencyID"]);return Object(x.a)({},n,{code:a,agencyId:t,name:i(a)(n)})});return{dimensions:Pe.a(Y.a)(function(e,t,r){var s=ue.a(null,"conceptIdentity");if(u.a(s(t)))return e;var l=s(t),c=Ge.a(/[^urn:sdmx:org.sdmx.infomodel][^.|=]+/g);if(ae.a(c(l)))return e;var f=c(l),p=q.a(f),m=He.a(function(e){var a=e.agencyID,t=e.id,n=e.version,r=Ge.a(/=(.*\))/),o=Me.a(V.a(r(l)));return"".concat(a,":").concat(t,"(").concat(n,")")===o})(n),v=ue.a(null,"concepts");if(u.a(v(m)))return e;var h=v(m),b=He.a($.a("id",p));if(u.a(b(h)))return e;var g=b(h),E=ue.a(null,"id");if(u.a(E(t)))return e;var y=E(t),w=ue.a(null,"forced")(t),O=fe.a(null,["localRepresentation","enumeration"]);if(u.a(O(t)))return[];var I=O(t),j=Ue.a(1)(c(I)),D=function(e){if(u.a(e))return null;for(var a=0;a<e.length;a++)if("link"==e[a].type)return e[a].value;return null},_=He.a(function(e){var a=e.agencyID,t=e.id,n=e.version,r=Ge.a(/=(.*\))/),o=Me.a(V.a(r(I)));return"".concat(a,":").concat(t,"(").concat(n,")")===o&&"Codelist"===j});if(ae.a(o)||ae.a(ue.a([],"codes")(_(o))))return e;var N=function(e){return We.a(P.a(ue.a([],"annotations"),He.a($.a("type","ORDER")),d.a("text"),ue.a(0,e),Number,S.a(Ye,T.a,A.a(0))))}(a)(ue.a([],"codes")(_(o))),F={id:y,index:r,roles:u.a(t.conceptRoles)?[]:t.conceptRoles,values:function(e){return se.a(function(a){var t=a.id,n=a.parent,r=a.name,o=a.annotations,s=void 0===o?[]:o;return{id:t,parentId:n,isDefaultSelected:Qe({index:e,id:t,annotations:s}),label:i(t)({name:r}),link:D(s)}})}(r)(N),forced:w};return[].concat(Object(Ce.a)(e),[Object(x.a)({},F,{label:i(F.id)(g)})])},[],t),dataflow:s(e),dataflowAnnotations:(r=e,fe.a([],["data","dataflows",0,"annotations"])(r))}},$e=function(e,a){var t=e.split("=")[1],n=t.split(":")[0],r=t.split(":")[1].split("(")[0],o=t.split(":")[1].split("(")[1].slice(0,-1),i=a.filter(function(e){return e.agencyID==n&&e.id==r&&e.version==o})[0];if(!i)return null;var s=[];return i.dataStructureComponents.dimensionList.dimensions.forEach(function(e){s.push(e.id)}),s},Je=function(e){var a={};return e.data.data.dataflows?(e.data.data.dataflows.forEach(function(t){var n,r;a[t.id]=(n=t,r=e.data.data.dataStructures,{id:n.id,name:n.name,agencyID:n.agencyID,version:n.version,isFinal:n.isFinal,dimensions:$e(n.structure,r)})}),a):a},Ze=function(e,a){for(var t=0;t<a[e.codelistAliasRef].length;t++)if(a[e.codelistAliasRef][t].id==e.codeID)return a[e.codelistAliasRef][t].name},ea=function e(a,t){var n=[];return a.forEach(function(a){var r={id:a.id,codeID:a.codeID,name:Ze(a,t)};a.hierarchicalCodes&&(r.codes=e(a.hierarchicalCodes,t)),n.push(r)}),n},aa=function(e){var a=e.split("=")[1];return{agencyID:a.split(":")[0],id:a.split(":")[1].split("(")[0],version:a.split(":")[1].split("(")[1].split(")")[0]}},ta=function(e){var a={};if(!e.data.hierarchicalCodelists)return a;if(0==e.data.hierarchicalCodelists.length)return a;var t={},n=e.data.hierarchicalCodelists[0].includedCodelists;for(var r in n)n.hasOwnProperty(r)&&function(){var a=aa(n[r]);e.data.codelists.forEach(function(e){e.agencyID==a.agencyID&&e.id==a.id&&e.version==a.version&&(t[r]=e.codes)})}();return function(e,a){var t={name:e.name,hierarchies:[]};return e.hierarchies.forEach(function(e){var n={id:e.id,codeID:e.codeID,name:e.name,codes:ea(e.hierarchicalCodes,a)};t.hierarchies.push(n)}),t}(e.data.hierarchicalCodelists[0],t)},na=function(e){var a=e.type;return function(e){var t=e.configArgs;if(F.a(B.a(a,["structure","data"])))throw new Error("Invalid type: type=".concat(a));var n=d.a("dataflow",t),r=n.datasourceId,o=n.dataflowId,i=n.agencyId,s=n.version,l=ve(r);if(u.a(l))throw new Error("Datasource undefined: datasourceId=".concat(r));var c=_.a(a,"structure"),f=c?"dataflow":"data",p=M.a(c?"/":",",[i,o,U.a("latest",s)]),m=c?"":"/".concat(U.a("all",d.a("dataquery",t)));return{url:"".concat(d.a("url",l),"/").concat(f,"/").concat(p).concat(m),datasource:l}}},ra=function(e){var a=e.configArgs,t=e.requestArgs,n=d.a("period",t),r=d.a("url",na({type:"data"})({configArgs:a})),o=de.a.stringify({startPeriod:V.a(n),endPeriod:q.a(n)},{addQueryPrefix:!0});return"".concat(r).concat(o)},oa=P.a(W.a(z.a,[P.a(d.a("dataquery"),S.a(u.a,A.a("all"),T.a)),P.a(d.a("dataflow"),X.a(["datasourceId","dataflowId","agencyId","version"]),f.a)]),M.a("_")),ia=function(e){return function(a,t,n){return function(r){if(u.a(a))return Y.a(Q.a("."),"",e);var o=K.a($.a("id",a),e),i=u.a(r)?Y.a(Q.a("."),"",e):r;if(u.a(t))return P.a(J.a("."),Z.a(o,""),M.a("."))(i);var s=i.split("."),l=[];return""!==s[o]&&(l=s[o].split("+")),l.includes(n)?t.forEach(function(e){var a=l.indexOf(e);a>=0&&l.splice(a,1)}):t.forEach(function(e){l.indexOf(e)<0&&l.push(e)}),s[o]=l.join("+"),s.join(".")}}},sa=P.a(ne.a,G.a(re.a)(1)),la=P.a(ie.a(function(e){return oe.a(Te.rules.isTimeDimension(d.a("id")(e)),sa(d.a("values")(e)))}),se.a(d.a("id"))),ca=function(e,a){return P.a(Q.a(a),le.a)(e)},da=t(19),ua=t(693),fa=t(154),pa=t(707),ma=t(200),va=t(442),ha=t(708),ba=t(600),ga=t.n(ba),Ea=t(178),ya=t(100),wa=t(298),Oa=t(69),Ia=(t(709),t(716)),ja=t(689),Da=(t(443),t(722)),xa=(t(698),t(435),t(24)),Aa=(wa.a(function(e,a){return Y.a(function(t,n){return ma.a(e[n]||n,a[n],t)},{},Oa.a(a))}),Be.a(pe.a(Number),Ve.a(_.a(NaN))),Pe.a(se.a)(function(e,a){return ma.a("index",a)(e)})),_a={label:Te.rules.dimensionValueDisplay("label"),code:Te.rules.dimensionValueDisplay("code"),both:Te.rules.dimensionValueDisplay("both")},Na=d.a("vis"),Sa=Object(da.a)(Na,P.a(d.a("period"),S.a(P.a(ne.a,_.a(2)),T.a,A.a(be)))),Fa=Object(da.a)(Na,d.a("lastnobservations")),Ta=Object(da.a)(Na,d.a("viewer")),Ca=Object(da.a)(Na,d.a("action")),La=Object(da.a)(Na,d.a("display")),Ra=Object(da.a)(Na,d.a("filter")),ka=Object(da.a)(Na,d.a("dataflow")),Pa=Object(da.a)(Na,d.a("dataquery")),Ga=Object(da.a)(Na,d.a("isFullscreen")),Ha=Object(da.a)(Na,d.a("timeDimensionInverted")),Ma=Object(da.a)(Na,d.a("layout")),Ua=Object(da.a)(Na,d.a("dimensionGetter")),Ba=Object(da.a)(Ua,G.a(d.a)(_a)),Va=Object(da.a)(Na,d.a("helpUrl")),qa=Object(da.a)(Na,ue.a("1","downloadFullEnabled")),Wa=d.a("sdmx"),za=Object(da.a)(Wa,d.a("dimensions")),Xa=Object(da.a)(Wa,d.a("data")),Ya=Object(da.a)(Wa,P.a(d.a("data"),function(e){if("undefined"==typeof e)return e;var a=Object.keys(e.dataSets[0].observations);if(a.length<=800)return e;for(var t=ua.a(e),n=800;n<a.length;n++)delete t.dataSets[0].observations[a[n]];return t.dataSets[0].limited={returnedKeyCount:a.length,limitedTo:800},t})),Qa=Object(da.a)(Wa,P.a(d.a("data"),function(e){return"undefined"==typeof e?{returnedKeyCount:0,limitedTo:0}:{returnedKeyCount:Object.keys(e.dataSets[0].observations).length,limitedTo:800}})),Ka=Object(da.a)(Wa,d.a("layout")),$a=Object(da.a)(Wa,d.a("dataflows")),Ja=Object(da.a)(Wa,d.a("map")),Za=Object(da.a)(Pa,za,function(e,a){return F.a(ke.a([ae.a,u.a])(e))?e:P.a(se.a(P.a(d.a("values"),ie.a($.a("isDefaultSelected",!0)),fa.a("id"),M.a("+"))),M.a("."))(a)}),et=Object(da.a)(Xa,Ba,function(e,a){var t=new ga.a(ye("flags")),n=fe.a([],["structure","attributes","observation"])(e);return Pe.a(Y.a)(function(e,n,r){var o=n.id,i=n.name,s=n.values,l=Object(Le.a)(n,["id","name","values"]),c=Object(x.a)({},l,{id:o,values:s,index:r,isFootnote:!0,label:a({id:o,name:i})});return t.has(o)?k.a(pa.a(["flags",r]),c,e):B.a(o,ye("decimals"))?ma.a("decimals",c,e):P.a(ne.a,_.a(1))(s)?w.a(O.a("footnotes"),z.a(c),e):P.a(ae.a,F.a)(s)?k.a(pa.a(["flags",r]),c,e):e},{flags:{},footnotes:[]})(n)}),at=Object(da.a)(za,Za,P.a(va.a(function(e,a){return Pe.a(se.a)(function(e,t){if(e.forced)return null;if(P.a(Ue.a(t),ae.a)(a))return e;if(P.a(Ue.a(t),u.a)(a))return e;var n=new ga.a(P.a(Ue.a(t),J.a("+"))(a));return w.a(O.a("values"),se.a(S.a(function(e){var a=e.id;return n.has(a)},ma.a("isSelected",!0),T.a)),e)},e)},[T.a,J.a(".")]),ie.a(P.a(d.a("values"),ne.a,ha.a(1))))),tt=Object(da.a)(at,P.a(se.a(w.a(O.a("values"),ie.a($.a("isSelected",!0)))),ie.a(P.a(d.a("values"),ne.a,G.a(re.a)(0))))),nt=Object(da.a)([Wa],function(e){var a=null;return e.dataflowAnnotations?(e.dataflowAnnotations.forEach(function(e){if("CUSTOM_SORT"==e.type&&(a=e,e.text&&"string"==typeof e.text))try{e.text=JSON.parse(e.text)}catch(e){console.log(e)}}),a):null}),rt="@@vis/sdmx/CHANGE_LASTNOBS",ot="@@vis/sdmx/CHANGE_DATAQUERY",it="@@vis/sdmx/LOAD_MAP",st=function(e){return{type:"@@vis/CHANGE_VIEWER",payload:{viewerId:e}}},lt=function(e){return{type:"@@vis/CHANGE_ACTION",payload:{actionId:e}}},ct=function(e){return{type:"@@vis/sdmx/CHANGE_DATAFLOW",payload:{dataflow:e}}},dt=function(e){return{type:"@@vis/CHANGE_LAYOUT",payload:{layout:e}}},ut=function(e,a){return function(t,n){return t({type:ot,payload:{filterId:e,valueId:a,dimensions:za(n())}})}},ft=t(701),pt=d.a("app"),mt=Object(da.a)(pt,d.a("locale")),vt=Object(da.a)(pt,d.a("pending")),ht=function(e){return Object(da.a)(vt,P.a(d.a(e),_.a(!0)))},bt=Object(da.a)(mt,$.a("isRtl",!0)),gt=t(714),Et=t(249),yt=t(180),wt=t.n(yt),Ot=t(457),It=t.n(Ot),jt=function(e,a,t){e==je&&Ie&&""!=Ie&&("undefined"==typeof a.annotations&&(a.annotations=[]),a.annotations.push({type:"link",value:Ie+"/"+a.id}))},Dt=function(e,a,t){e[a]&&(e[t]=e[a],delete e[a])},xt=function(e,a){var t={};return t[a]=e,t},At=function(e,a){e&&e.forEach(function(e){e.name=xt(e.name,a),e.values.forEach(function(e){e.name=xt(e.name,a)})})},_t=function(e,a){console.log("mapStructure"),console.log("mapStructure"),console.log("mapStructure"),console.log(e);var t={data:{}},n=e.references[function(e,a){var t=Object.keys(e);return null==t?[]:t.filter(function(e){return e.startsWith(a)})}(e.references,"urn:sdmx:org.sdmx.infomodel.categoryscheme.CategoryScheme")[0]];return t.data.conceptSchemes=[],n.items.forEach(function(e){var a={};a.id=e.id,a.name=e.name,t.data.conceptSchemes.push(a)}),console.log(n),console.log("mapped"),console.log(t),e.data.codelists.forEach(function(e){e.name=e.names;var a=new Set;e.codes.forEach(function(t){t.name=t.names,Nt(e.id,t),t.parent&&a.add(t.parent)}),1==a.size&&e.codes.forEach(function(e){e.parent&&delete e.parent})}),e.data.dataflows[0].name=e.data.dataflows[0].names,e},Nt=function(e,a,t){e==je&&Ie&&""!=Ie&&("undefined"==typeof a.annotations&&(a.annotations=[]),a.annotations.push({type:"link",value:Ie+"/"+a.id}))},St=function(e,a){var t={};return t[a]=e,t},Ft=function(e,a){e&&e.forEach(function(e){e.name=St(e.name,a),e.values.forEach(function(e){e.name=St(e.name,a)})})},Tt=function(e,a){var t={};return t[a]=e,t},Ct=function(e,a){e&&e.forEach(function(e){e.name=Tt(e.name,a),delete e.names,e.values.forEach(function(e){e.name=Tt(e.name,a),delete e.names})})},Lt=t(308),Rt=t.n(Lt),kt=t(602),Pt=t(597),Gt=t(598),Ht=t(603),Mt=t.n(Ht),Ut=function(e,a){for(var t=0;t<e.length;t++)if(e[t].id==a)return e[t];return null},Bt=function(e,a){e[a.dimension.__index]=a.value.__index},Vt=function(e){return e.filter(function(e){return null!=e}).join(":")},qt=function(e,a,t,n,r,o){var i=[],s=[],l=[],c=[],d=[],u=0,f=[];return t.forEach(function(e){c.push(e.value.name)}),e.forEach(function(e){e.length>0&&e.forEach(function(e){Bt(i,e)});var c=Vt(i);a.forEach(function(e){Bt(s,e)});var p=Vt(s);t.forEach(function(e){Bt(l,e)});var m=Vt(l),v=null;v=c?n[c]:n[""],u=d.length;var h=v[p];if(h){var b=h[m];if(b){d.push(r[b][0]);for(var g=[],E=1;E<r[b].length;E++)null!=r[b][E]&&(o[E-1].isFootnote||g.push(o[E-1].name+": "+o[E-1].values[r[b][E]].name));f.push(g.join("\r\n"))}else d.push("-"),f.push("")}else d.push("-"),f.push("")}),{rowDimVals:c,row:d,rowAttribs:f,dataStartIdx:u}},Wt=function(e){var a=[];return e.forEach(function(e){e.values&&0!=e.values.length&&e.isFootnote&&a.push({name:e.name,value:e.values[0].name})}),a},zt=function(e,a){e.fill={type:"pattern",pattern:"solid",fgColor:{argb:a.fill}};var t=!1;a.bold&&(t=!0),e.font={color:{argb:a.color},bold:t}},Xt=function(){var e=Object(kt.a)(Rt.a.mark(function e(a,t,n){var r,o,i,s,l,c,d,u,f,p,m,v,h,b,g,E,y,w,O,I,j,D,x,A,_,N,S,F,T,C,L,R;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r={header:{fill:"FF47494e",color:"FFFFFFFF"},section:{fill:"FF47494e",color:"FFFFFFFF"},rowDim:{fill:"FFd9d9d9",color:"FF47494e",bold:!0},rowDimValue:{fill:"FFd9d9d9",color:"FF47494e"},footnotesSection:{bold:!0}},o=[],i=[],s=[],l=a.data.structure.dimensions.observation,c=a.data.structure.attributes.observation,d=a.data.dataSets[0].observations,c.forEach(function(e){e.isFootnote=!0}),u=[],(f=Object.keys(d)).length>1&&(d[f[0]].forEach(function(e){u.push(e)}),Object.keys(d).forEach(function(e){for(var a=1;a<d[e].length;a++)u[a]!=d[e][a]&&(c[a-1].isFootnote=!1)})),l.forEach(function(e){var a=0;e.__index=e.keyPosition,e.label=e.name,e.values.forEach(function(e){e.__index=a,e.label=e.name,a++})}),p=l.find(function(e){return"TIME_PERIOD"==e.id}),m=function(e,a){return e.start<a.start?-1:e.start>a.start?1:0},v=function(e,a){return e.start>a.start?-1:e.start<a.start?1:0},p=n?p.values.sort(v):p.values.sort(m),t?(t.sections&&t.sections.forEach(function(e){o.push(Ut(l,e))}),t.header&&t.header.forEach(function(e){i.push(Ut(l,e))}),t.rows&&t.rows.forEach(function(e){s.push(Ut(l,e))})):(s=[l[0]],o=l.slice(1,l.length)),h={header:i,rows:s,sections:o},b=[],g=0,E=Object.entries(d);g<E.length;g++)y=E[g],w=Object(ya.a)(y,2),O=w[0],w[1],b.push(O);if(I=Object(Pt.getCuratedData)({observations:d,layout:h}),j=Object(Gt.getSortedLayout)(h,d),D=0,x=0,j.sectionsData[0]&&j.sectionsData[0][1]&&j.sectionsData[0][1][0]&&D<j.sectionsData[0][1][0].length+1&&(x=j.sectionsData[0][1][0].length),j.headerData&&j.headerData.length>0&&(D=j.headerData.length+x),A=new Mt.a.Workbook,_=A.addWorksheet("Unicef data"),N=[],j.headerData&&j.headerData.length>0)for(S=0;S<j.headerData[0].length;S++){for(N.push(j.headerData[0][S].dimension.name),F=0;F<x-1;F++)N.push("");for(j.headerData.forEach(function(e){N.push(e[S].value.name)}),T=_.addRow(N),C=0;C<D;C++)zt(T.getCell(C+1),r.header);N=[]}if(N=[],j.sectionsData&&j.sectionsData.length>0)for(j.sectionsData[0][1][0].forEach(function(e){N.push(e.dimension.name)}),T=_.addRow(N),C=0;C<D;C++)zt(T.getCell(C+1),r.rowDim);return N=[],j.sectionsData&&j.sectionsData.forEach(function(e){var a="";for(e[0].forEach(function(e){a=a+e.dimension.name+": "+e.value.name+" | "}),T=_.addRow([a]),C=0;C<D;C++)zt(T.getCell(C+1),r.section);e[1].forEach(function(a){var t=qt(j.headerData,e[0],a,I,d,c);T=_.addRow();var n=1,o=null;for(C=0;C<t.rowDimVals.length;C++)(o=T.getCell(n)).value=t.rowDimVals[C],zt(o,r.rowDimValue),n++;for(C=0;C<t.row.length;C++)(o=T.getCell(n)).value=t.row[C],""!=t.rowAttribs[C]&&(o.note=t.rowAttribs[C]),n++;N=[]})}),(L=Wt(c)).length>0&&(T=_.addRow(),T=_.addRow(["Footnotes"]),zt(T.getCell(1),r.footnotesSection)),L.forEach(function(e){T=_.addRow([e.name+": "+e.value])}),e.next=39,A.xlsx.writeBuffer();case 39:return R=e.sent,e.abrupt("return",R);case 41:case"end":return e.stop()}},e)}));return function(a,t,n){return e.apply(this,arguments)}}(),Yt=function(e){var a,t="",n=[""],r=[n],o=0,i=0,s=!0,l=!0,c=!1,d=void 0;try{for(var u,f=e[Symbol.iterator]();!(l=(u=f.next()).done);l=!0)'"'===(a=u.value)?(s&&a===t&&(n[o]+=a),s=!s):","===a&&s?a=n[++o]="":"\n"===a&&s?("\r"===t&&(n[o]=n[o].slice(0,-1)),n=r[++i]=[a=""],o=0):n[o]+=a,t=a}catch(p){c=!0,d=p}finally{try{l||null==f.return||f.return()}finally{if(c)throw d}}return r},Qt=function(){var e=Object(kt.a)(Rt.a.mark(function e(a){var t,n,r,o,i,s,l;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={header:{fill:"FF007cba",color:"FFFFFFFF"}},n=Yt(a),r=null,o=0,i=new Mt.a.Workbook,s=i.addWorksheet("Unicef data"),n&&n.length>0){for(r=s.addRow(n[0]),o=0;o<n[0].length;o++)zt(r.getCell(o+1),t.header);for(o=1;o<n.length;o++)r=s.addRow(n[o])}return e.next=9,i.xlsx.writeBuffer();case 9:return l=e.sent,e.abrupt("return",l);case 11:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),Kt=fe.a("en",["locale","id"]),$t=function(e){return e},Jt=function(e){return e.data},Zt={getStructure:function(e){var a=e.configArgs,t="FUSION"==d.a("backendId",a.dataflow)?function(e){var a=e.configArgs,t=d.a("dataflow",a),n=t.datasourceId,r=t.dataflowId,o=t.agencyId,i=t.version,s=ve(n);if(u.a(s))throw new Error("Datasource undefined: datasourceId=".concat(n));var l=M.a("/",[o,r,U.a("latest",i)]);return{url:"".concat(d.a("url",s),"/dataflow/").concat(l),datasource:s}}({configArgs:a}):na({type:"structure"})({configArgs:a}),n=t.url,r=t.datasource,o="FUSION"==d.a("backendId",a.dataflow)?{references:"all",format:"sdmx-json",detail:"referencepartial"}:{references:"all"},i={FUSION:{"Accept-Language":Kt(a)},EUROSTAT:{"Accept-Language":Kt(a),Accept:"application/vnd.sdmx.structure+json;version=1.0"},istat:{"Accept-Language":Kt(a),Accept:"application/json"}}[d.a("backendId",a.dataflow)],s=function(e,a){e.dataflow.forcedDims&&Object.keys(e.dataflow.forcedDims).forEach(function(t){a.data.dataStructures[0].dataStructureComponents.dimensionList.dimensions.forEach(function(a){a.id==t&&(a.forced=e.dataflow.forcedDims[t])})})},l=null;return"FUSION"==d.a("backendId",a.dataflow)?l=function(e){return s(a,e.data),t=e.data,n=a.locale.id,Dt(t.meta,"contentLanguages","content-languages"),t.meta["content-languages"].includes(n)&&t.meta["content-languages"].sort(function(e,a){return e==n?-1:0}),t.data.conceptSchemes.forEach(function(e){e.concepts.forEach(function(e){e.links.forEach(function(e){e.type="conceptScheme"}),e.name=e.names})}),t.data.codelists.forEach(function(e){e.name=e.names;var a=new Set;e.codes.forEach(function(t){t.name=t.names,jt(e.id,t),t.parent&&a.add(t.parent)}),1==a.size&&e.codes.forEach(function(e){e.parent&&delete e.parent})}),t.data.dataflows[0].name=t.data.dataflows[0].names,t;var t,n}:"EUROSTAT"==d.a("backendId",a.dataflow)?l=function(e){return s(a,e.data),function(e,a){var t,n,r;return t=e.meta,r="content-languages",t[n="contentLanguages"]&&(t[r]=t[n],delete t[n]),e.meta["content-languages"].includes(a)&&e.meta["content-languages"].sort(function(e,t){return e==a?-1:0}),e.data.conceptSchemes.forEach(function(e){e.concepts.forEach(function(e){e.name=e.names})}),e.data.codelists.forEach(function(e){e.name=e.names;var a=new Set;e.codes.forEach(function(e){e.name=e.names,e.parent&&a.add(e.parent)}),1==a.size&&e.codes.forEach(function(e){e.parent&&delete e.parent})}),e.data.dataflows[0].name=e.data.dataflows[0].names,e}(e.data,a.locale.id)}:"istat"==d.a("backendId",a.dataflow)&&(l=function(e){return s(a,e.data),_t(e.data,a.locale.id)}),wt.a.get(n,{params:C.a([[A.a(d.a("supportsReferencePartial",r)),ma.a("detail","referencepartial")],[L.a,T.a]])(o),headers:i}).then(P.a(l,Ke))},getData:function(e){var a=e.configArgs,t=e.requestArgs,n=(e.dimensions,na({type:"data"})({configArgs:a})),r=n.url,o=n.datasource;t.lastnobservations?t.lastnobservations=1:delete t.lastnobservations;var i=null;"FUSION"==d.a("backendId",a.dataflow)?i=function(e){return function(e,a,t){if(e.meta["content-languages"]=[a],e.data.structure.name=e.data.structure.names,At(e.data.structure.dimensions.dataset,a),At(e.data.structure.dimensions.series,a),At(e.data.structure.dimensions.observation,a),At(e.data.structure.attributes.dataset,a),At(e.data.structure.attributes.series,a),At(e.data.structure.attributes.observation,a),t)for(var n=0,r=Object.entries(e.data.dataSets[0].observations);n<r.length;n++){var o=r[n],i=Object(ya.a)(o,2),s=(i[0],i[1]);if(s&&s[0]&&!isNaN(s[0]))try{s[0]>1e3?s[0]=Number.parseFloat(s[0]).toFixed(0):s[0]=Number.parseFloat(Number.parseFloat(s[0]).toFixed(t))}catch(l){}}return e}(e.data,a.locale.id,xe)}:"EUROSTAT"==d.a("backendId",a.dataflow)?i=function(e){return function(e,a,t){if(e.meta.contentLanguages=[a],e.meta["content-languages"]=[a],e.data.structure.name=e.data.structure.names,Ct(e.data.structure.dimensions.dataset,a),Ct(e.data.structure.dimensions.series,a),Ct(e.data.structure.dimensions.observation,a),Ct(e.data.structure.attributes.dataset,a),Ct(e.data.structure.attributes.series,a),Ct(e.data.structure.attributes.observation,a),t)for(var n=0,r=Object.entries(e.data.dataSets[0].observations);n<r.length;n++){var o=r[n],i=Object(ya.a)(o,2),s=(i[0],i[1]);if(s&&s[0]&&!isNaN(s[0]))try{s[0]>1e3?s[0]=Number.parseFloat(s[0]).toFixed(0):s[0]=Number.parseFloat(s[0]).toFixed(t)}catch(l){}}return e}(e.data,a.locale.id,xe)}:"istat"==d.a("backendId",a.dataflow)&&(i=function(e){return function(e,a,t){if(console.log("MAPPING DATA"),console.log("MAPPING DATA"),console.log("MAPPING DATA"),console.log(e),e.meta["content-languages"]=[a],e.data.structure.name=e.data.structure.names,Ft(e.data.structure.dimensions.dataset,a),Ft(e.data.structure.dimensions.series,a),Ft(e.data.structure.dimensions.observation,a),Ft(e.data.structure.attributes.dataset,a),Ft(e.data.structure.attributes.series,a),Ft(e.data.structure.attributes.observation,a),t)for(var n=0,r=Object.entries(e.data.dataSets[0].observations);n<r.length;n++){var o=r[n],i=Object(ya.a)(o,2),s=(i[0],i[1]);if(s&&s[0]&&!isNaN(s[0]))try{s[0]>1e3?s[0]=Number.parseFloat(s[0]).toFixed(0):s[0]=Number.parseFloat(s[0]).toFixed(t)}catch(l){}}return e}(e.data,a.locale.id,xe)});var s={FUSION:{Accept:"application/vnd.sdmx.data+json;version=1.0.0","Accept-Language":Kt(a)},EUROSTAT:{Accept:"application/vnd.sdmx.data+json;version=1.0.0-wd"},istat:{Accept:"application/json"}}[d.a("backendId",a.dataflow)];return wt.a.get(r,{params:gt.a({dimensionAtObservation:"AllDimensions"},t),headers:C.a([[A.a(d.a("hasRangeHeader",o)),ma.a("Range","values=".concat(V.a(he),"-").concat(q.a(he)))],[L.a,T.a]])(s)}).then(P.a(i,Te.rules.v8Transformer))},getDataFile:function(e){var a=e.configArgs,t=e.requestArgs,n=na({type:"data"})({configArgs:a}).url;t.lastnobservations?t.lastnobservations=1:delete t.lastnobservations;return wt.a.get(n,{params:t,headers:{Accept:"application/vnd.sdmx.data+csv;file=true","Accept-Language":Kt(a)},responseType:"blob"}).then(function(e){var t=new Blob([d.a("data")(e)],{type:fe.a("text/csv",["headers","content-type"])(e)});It.a.saveAs(t,"".concat(oa(a),".csv"))})},getDataflows:function(e){var a=e.configArgs,t="FUSION"==d.a("backendId",a.dataflow)?function(e){var a=e.configArgs,t=d.a("dataflow",a).datasourceId,n=ve(t);return{url:"".concat(d.a("url",n),"/dataflow/all/all/latest/"),datasource:n}}({configArgs:a}):na({type:"dataflows"})({configArgs:a}),n=t.url;t.datasource;return wt.a.get(n,{params:{format:"sdmx-json",detail:"full",references:"children",includeMetadata:!0},headers:{Accept:"application/json","Accept-Language":Kt(a)}}).then(P.a($t,Je))},getHierarchy:function(e){var a=e.configArgs,t=function(e){var a=e.configArgs,t=d.a("dataflow",a).datasourceId,n=ve(t),r=a.config.hierarchy.agencyId,o=a.config.hierarchy.id;return"".concat(d.a("url",n),"/hierarchicalcodelist/").concat(r,"/").concat(o,"/latest/")}({configArgs:a});return wt.a.get(t,{params:{format:"sdmx-json",detail:"full",references:"children"},headers:{Accept:"application/json","Accept-Language":Kt(a)}}).then(P.a(Jt,ta))},getExcelDataFile:function(e){var a=e.configArgs,t=e.requestArgs,n=e.layout,r=e.timeDimensionInverted,o=na({type:"data"})({configArgs:a}),i=o.url,s=o.datasource;return t.lastnobservations?t.lastnobservations=1:delete t.lastnobservations,wt.a.get(i,{params:gt.a({dimensionAtObservation:"AllDimensions"},t),headers:C.a([[A.a(d.a("hasRangeHeader",s)),ma.a("Range","values=".concat(V.a(he),"-").concat(q.a(he)))],[L.a,T.a]])({Accept:"application/vnd.sdmx.data+json;version=1.0.0","Accept-Language":Kt(a)})}).then(function(e){Xt(e.data,n,r).then(function(e){var n=new Blob([e],{type:"application/vnd.ms-excel"}),r="",o="";t.startPeriod&&(r=t.startPeriod),t.endPeriod&&(o=t.endPeriod),It.a.saveAs(n,"".concat(a.dataflow.dataflowId,"_").concat(r,"-").concat(o,".xlsx"))})})},getExcelDataFileLong:function(e){var a=e.configArgs,t=e.requestArgs,n=na({type:"data"})({configArgs:a}).url;t.lastnobservations?t.lastnobservations=1:delete t.lastnobservations;var r="application/vnd.sdmx.data+csv;file=true";return a.dataflow.backendId&&"FUSION"==a.dataflow.backendId&&(t.format="csv",t.labels="name",r=""),wt.a.get(n,{params:t,headers:{Accept:r,"Accept-Language":Kt(a)},responseType:"utf8"}).then(function(e){Qt(e.data).then(function(e){var n=new Blob([e],{type:"application/vnd.ms-excel"}),r="",o="";t.startPeriod&&(r=t.startPeriod),t.endPeriod&&(o=t.endPeriod),It.a.saveAs(n,"".concat(a.dataflow.dataflowId,"_").concat(r,"-").concat(o,".xlsx"))})})},getMap:function(e){var a=e.url;return wt.a.get(a,{params:{},headers:{}}).then(function(e){return e.data})}},en=function(e){var a=e.method,t=Object(Le.a)(e,["method"]);return(Zt[a]||function(e){return function(){throw new Error("Unkown method: ".concat(e))}}(a))(t)};Et.a(c.a(function(e){var a=Object(ya.a)(e,2),t=a[0],n=a[1];return en[t]=n}),Da.a)(Zt);var an=en,tn="@@sdmx/HANDLE_DATA",nn="@@vis/sdmx/CHANGE_MAP_FILTERS",rn=function(e,a){var t=a.method,n=a.pendingId||t;return e(D(n,!0)),an(a).then(function(a){return e(D(n)),a}).catch(function(a){var r=a.response?{method:t,errorCode:a.response.data.errorCode,statusCode:a.response.status}:{method:t,error:a};throw e(D(n)),e(function(e){return{type:"@@app/PUSH_LOG",payload:{log:e}}}({type:"@@app/LOG_ERROR",payload:{log:r}})),a})},on=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shouldRequestStructure;return function(a,t){(function(e){var a=e.shouldRequestStructure;return function(e,t){if(F.a(a))return Promise.resolve();var n={locale:mt(t()),dataflow:ka(t())};return rn(e,{method:"getStructure",configArgs:n}).then(function(a){e({type:"@@sdmx/HANDLE_STRUCTURE",structure:a})})}})({shouldRequestStructure:e})(a,t).then(function(){var e={startPeriod:V.a(Sa(t())),endPeriod:q.a(Sa(t())),lastnobservations:Fa(t())},n=function(e,a){if(!e||""==e)return e;for(var t=e.split("."),n=0;n<t.length;n++)if(a[n]&&a[n].forced&&null!=a[n].forced&&(t[n]=a[n].forced),""!=t[n]&&a[n]&&a[n].values){for(var r=t[n].split("+"),o=function(e){a[n].values.some(function(a){return a.id==r[e]})||r.splice(e,1)},i=r.length-1;i>=0;i--)o(i);t[n]=r.join("+")}return t.join(".")}(Za(t()),za(t())),r=ka(t()),o={locale:mt(t()),dataflow:r,dataquery:n},i=za(t());return a({type:"@@vis/sdmx/OVERRIDE_DATAQUERY",dataquery:n}),rn(a,{method:"getData",configArgs:o,requestArgs:e,dims:i}).then(function(o){var i=o.data,s=o.layout;s=function(e){var a=fe.a([],["sdmx","dataflowAnnotations"])(e),t=[],n=[],r=[];0==a.length?(n.push("TIME_PERIOD"),e.sdmx.dimensions.forEach(function(e){t.push(e.id)})):a.forEach(function(e){if(e.title){var a=function(e){return 0==e.trim().length?null:e.trim().replace(" ","").split(",")}(e.title);a&&("LAYOUT_ROW"==e.type?t=t.concat(a):"LAYOUT_COLUMN"==e.type&&(n=n.concat(a)),"LAYOUT_ROW_SECTION"==e.type&&(r=r.concat(a)))}});var o={};return t.length>0&&(o.rows=t),n.length>0&&(o.header=n),r.length>0&&(o.sections=r),o}(t()),a(dt(s)),document.getElementById("root").dispatchEvent(new CustomEvent("unicef_dataflowLoaded",{detail:{dataflow:r,data:i,dataquery:n,requestArgs:e}})),a({type:tn,data:i,layout:s}),document.getElementById("root").dispatchEvent(new CustomEvent("data_loaded"))}).catch(function(e){a({type:tn,nodata:null,nolayout:null})})})}},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.isDownloadAllData,t=e.dataflow;return function(e,n){var r=a?{}:{startPeriod:V.a(Sa(n())),endPeriod:q.a(Sa(n())),lastnobservations:Fa(n())},o=C.a([[A.a(F.a(a)),ma.a("dataquery",Za(n()))],[L.a,T.a]])({locale:mt(n()),dataflow:t}),i=S.a(ft.a("id"),P.a(d.a("id"),function(e){return"getDataFile/".concat(e)}),A.a("requestingDataFile"))(t);return rn(e,{method:"getDataFile",configArgs:o,requestArgs:r,pendingId:i})}},ln=Object(y.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"@@app/PUSH_LOG":return w.a(O.a("logs"),I.a(a.payload.log),e);case"@@app/SET_PENDING":return j.a(["pending",a.payload.id],a.payload.is,e);default:return e}},sdmx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=null;switch(a.type==tn&&(t=function(e,a){if("undefined"==typeof a.data)return{};var t={};return a.data.structure.dimensions.observation.forEach(function(a){if(e.map_selection.hasOwnProperty(a.id)){var n=e.map_selection[a.id];-1!=a.values.findIndex(function(e){return e.id===n})?t[a.id]=n:t[a.id]=a.values[0].id}else{t[a.id]=a.values[0].id;for(var r=0;r<a.values.length;r++)if("_T"==a.values[r].id){t[a.id]=a.values[r].id;break}}}),t}(e,a)),a.type){case"@@sdmx/HANDLE_STRUCTURE":return P.a(k.a(O.a("dimensions"),R.a(["structure","dimensions"],a)),k.a(O.a("dataflowAnnotations"),R.a(["structure","dataflowAnnotations"],a)))(e);case tn:return P.a(k.a(O.a("data"),d.a("data",a)),k.a(O.a("layout"),d.a("layout",a)),k.a(O.a("map_selection"),t))(e);case"@@sdmx/HANDLE_DATAFLOWS":return k.a(O.a("dataflows"),d.a("dataflows",a),e);case"@@sdmx/HANDLE_HIERARCHY":return k.a(O.a("hierarchy"),d.a("hierarchy",a),e);case"@@sdmx/HANDLE_MAP":return k.a(O.a("map"),d.a("map",a),e);case nn:return Object(x.a)({},e,{map_selection:k.a(O.a(a.payload.filter.id),a.payload.filter.val,e.map_selection)});default:return e}},vis:function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"@@vis/CHANGE_ACTION":var n=A.a(_.a(t.payload.actionId,"fullscreen"));return N.a({isFullscreen:S.a(n,F.a,T.a),action:C.a([[n,T.a],[_.a(t.payload.actionId),A.a(void 0)],[L.a,A.a(t.payload.actionId)]])})(a);case"@@vis/CHANGE_FILTER":return w.a(O.a("filter"),function(e){return S.a(_.a(e),A.a(void 0),T.a)(R.a(["payload","filterId"],t))},a);case"@@vis/sdmx/CHANGE_PERIOD":return k.a(O.a("period"),R.a(["payload","period"],t),a);case rt:return k.a(O.a("lastnobservations"),R.a(["payload","lastnobservations"],t),a);case"@@vis/CHANGE_VIEWER":return k.a(O.a("viewer"),R.a(["payload","viewerId"],t),a);case"@@vis/CHANGE_LAYOUT":return k.a(O.a("layout"),R.a(["payload","layout"],t),a);case"@@vis/CHANGE_DIMENSION_GETTER":return k.a(O.a("dimensionGetter"),R.a(["payload","dimensionGetter"],t),a);case"@@vis/CHANGE_IS_TIME_DIMENSION_INVERTED":return Object(x.a)({},a,{timeDimensionInverted:k.a(O.a(t.payload.id),!t.payload.isTimeDimensionInverted,a.timeDimensionInverted)});case ot:var r=function(){var e=t.payload.dimensions.filter(function(e){return e.id==t.payload.filterId});e=e[0];for(var n,r=[t.payload.valueId],o=[t.payload.valueId];o.length>0;)(o=e.values.filter(function(e){return e.parentId&&o.indexOf(e.parentId)>=0})).forEach(function(e){r.push(e.id)});return 1==r.length?{v:w.a(O.a("dataquery"),(n=R.a(["payload","dimensions"],t),function(e,a){return function(t){if(u.a(e))return Y.a(Q.a("."),"",n);var r=K.a($.a("id",e),n);null!=n[r].forced&&(a=n[r].forced);var o=u.a(t)?Y.a(Q.a("."),"",n):t;return u.a(a)?P.a(J.a("."),Z.a(r,""),M.a("."))(o):P.a(J.a("."),w.a(ee.a(r),P.a(S.a(ae.a,A.a([]),J.a("+")),S.a(B.a(a),te.a([a]),z.a(a)),M.a("+"))),M.a("."))(o)}})(R.a(["payload","filterId"],t),R.a(["payload","valueId"],t)),a)}:{v:w.a(O.a("dataquery"),ia(R.a(["payload","dimensions"],t))(R.a(["payload","filterId"],t),r,R.a(["payload","valueId"],t)),a)}}();if("object"===typeof r)return r.v;case"@@vis/sdmx/CHANGE_DATAQUERY_ADD_FILTERS":return w.a(O.a("dataquery"),(e=R.a(["payload","dimensions"],t),function(a,t){return function(n){if(u.a(a))return Y.a(Q.a("."),"",e);var r=K.a($.a("id",a),e),o=u.a(n)?Y.a(Q.a("."),"",e):n;if(u.a(t))return P.a(J.a("."),Z.a(r,""),M.a("."))(o);var i=o.split("."),s=[];return""!==i[r]&&(s=i[r].split("+")),t.forEach(function(e){s.includes(e)||s.push(e)}),i[r]=s.join("+"),i.join(".")}})(R.a(["payload","filterId"],t),R.a(["payload","values"],t)),a);case"@@vis/sdmx/OVERRIDE_DATAQUERY":return k.a(O.a("dataquery"),d.a("dataquery",t),a);case"@@vis/sdmx/CHANGE_DATAFLOW":return P.a(k.a(O.a("viewer"),"table"),k.a(O.a("dataquery"),R.a(["payload","dataflow","dataquery"],t)),k.a(O.a("period"),R.a(["payload","dataflow","period"],t)),G.a(H.a)(d.a("payload",t)))(a);case it:case"@@vis/sdmx/LOAD_DATAFLOWS":case"@@vis/sdmx/LOAD_HIERARCHY":default:return a}}}),cn=t(978),dn=(t(979),function(e){var a=e.dispatch;return function(e){return function(t){var n,r,o=e(t);return P.a(d.a("type"),G.a(B.a)([ot,"@@vis/sdmx/CHANGE_DATAQUERY_ADD_FILTERS","@@vis/sdmx/CHANGE_PERIOD",rt]))(t)&&a(on()),P.a(d.a("type"),G.a(B.a)(["@@vis/sdmx/CHANGE_DATAFLOW"]))(t)&&a(on({shouldRequestStructure:!0})),"@@vis/sdmx/LOAD_DATAFLOWS"==t.type&&a(function(e,a){var t={locale:mt(a()),dataflow:ka(a())};return rn(e,{method:"getDataflows",configArgs:t}).then(function(a){e({type:"@@sdmx/HANDLE_DATAFLOWS",dataflows:a})})}),"@@vis/sdmx/LOAD_HIERARCHY"==t.type&&a((n=t.payload,function(e,a){return rn(e,{method:"getHierarchy",configArgs:n}).then(function(a){e({type:"@@sdmx/HANDLE_HIERARCHY",hierarchy:a})})})),t.type==it&&a((r=t.payload,function(e,a){return rn(e,{method:"getMap",url:r}).then(function(a){e({type:"@@sdmx/HANDLE_MAP",map:a})})})),o}}}),un=function(e){return e},fn=t(713),pn=t(306),mn=t(595),vn=t.n(mn),hn=t(293),bn=t(44),gn="#F0F0F0",En="#494444",yn="#FFFFFF",wn=1e3,On=360,In=350,jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ltr";return Object(bn.createMuiTheme)({overrides:{MuiButton:{text:{textTransform:"none"}}},palette:{primary:{main:"#137cbd",mainAlpha:"#137cbd26",light:"#5dabf0",dark:"#00508c",contrastText:"#ffffff"},secondary:{main:"#bdd7ee",light:"#f0ffff",dark:"#8ca6bc",contrastText:"#ff0000"},action:{hover:"#bdd7ee",selected:"#137cbd",active:"rgba(19,124,189,.3)"},typography:{fontFamily:["Segoe UI"]},raisedButton:{textColor:"#ffffff",primaryTextColor:"#ffffff"},default:{backgroundColor:"#00000026"},configLabelBG:"#B5CEEB",configLabelCol:"#1C2768"},app:{appSize:wn,appMinSize:On,itemMinSize:In},scopeListContainer:{maxHeight:250},scopeList:{divider:"#000000"},direction:e,typography:{useNextVariants:!0},configLabel:{backgroundColor:"#B5CEEB",color:"#43679F",fontFamily:"Segoe UI",fontSize:16},configButtonRegular:{backgroundColor:"#B5CEEB",color:"#43679F",fontFamily:"Segoe UI",fontSize:16,fontWeight:"inherit",textTransform:"none"},configButtonSelected:{backgroundColor:"#778899",color:"#B5CEEB",fontFamily:"Segoe UI",fontSize:16,fontWeight:"inherit",textTransform:"none"},panelSummary:{backgroundColor:"#137cbd",color:"white",fontFamily:"Segoe UI",fontSize:16},panelIcon:{color:"white"},configInputs:{backgroundColor:"white"},alert:{color:"#c23030",hover:{backgroundColor:"rgba(219,55,55,.15)"},active:{backgroundColor:"rgba(219,55,55,.3)"}},table:{yBg:"#B5CEEB",yBgHover:"#c3d7ef",yBgActive:"#7e90a4",yFontHeader:"#1C2768",yFont:"#43679F",zBg:"#386CAA",zBgHover:"#5f89bb",zBgActive:"#274b76",zFontHeader:"#A2C2E4",zFont:yn,xBg:yn,xBgHeader:"#D7E6F4",xBgHover:"#dfebf6",xBgActive:"#96a1aa",xFontHeader:"#1C2768",xFont:"#43679F",oFont:En,sBg:gn}})},Dn=t(596),xn=t.n(Dn),An=Object(hn.create)({plugins:[].concat(Object(Ce.a)(Object(bn.jssPreset)().plugins),[vn()()])}),_n=Object(bn.createGenerateClassName)(),Nn=function(e){var a=e.theme,t=e.children,n=e.isRtl;return r.a.createElement(xn.a,{jss:An,generateClassName:_n},r.a.createElement(bn.MuiThemeProvider,{theme:jn(n?"rtl":"ltr")},r.a.createElement(pn.a,{theme:Object(fn.a)(xa.mainTheme,a)},r.a.Children.only(t))))},Sn=t(106),Fn=t(127),Tn=t(108),Cn=t(107),Ln=t(110),Rn=t(980),kn=t.n(Rn),Pn=function(e){function a(e){var t;return Object(Sn.a)(this,a),(t=Object(Tn.a)(this,Object(Cn.a)(a).call(this,e))).state={hasError:!1},t}return Object(Ln.a)(a,e),Object(Fn.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?this.props.isFinal?r.a.createElement("h1",null,"Whoops, something went wrong on our end."):r.a.createElement(xa.DELayout,{isHome:!0},r.a.createElement(xa.DELayoutContent,null,r.a.createElement(xa.DESplash,{title:r.a.createElement(p.a,{id:"de.error.title"}),logo:kn.a}))):this.props.children}}]),a}(r.a.Component),Gn=t(20),Hn=t(604),Mn=t.n(Hn),Un=function(e){return r.a.createElement(Mn.a,Object.assign({},e,{query:"(max-width: ".concat(700,"px)")}))},Bn=function(e){return r.a.createElement(Mn.a,Object.assign({},e,{query:"(min-width: ".concat(701,"px)")}))},Vn=Object(Gn.compose)(Object(i.b)(Object(da.b)({period:Sa}),{changePeriod:function(e){return{type:"@@vis/sdmx/CHANGE_PERIOD",payload:{period:e}}}}),Object(Gn.withProps)({titleLabel:"",tagLabel:"",periodBoundaries:ge,options:Object(x.a)({},Ee,{labelStepSize:10})}),Gn.pure)(xa.DEFilterPeriod),qn=Object(Gn.compose)(Object(i.b)(Object(da.b)({items:tt}),{changeFilters:ut}),Object(Gn.withProps)({titleLabel:r.a.createElement(p.a,{id:"vx.filters.current.title"}),clearAllLabel:r.a.createElement(p.a,{id:"vx.filters.current.clear"}),blankLabel:r.a.createElement(p.a,{id:"vx.filters.current.blank"}),noScroll:!0}),Gn.pure)(xa.VXFiltersCurrent),Wn=t(700),zn=Object(Gn.pure)(xa.VXScopeList),Xn=Object(Gn.compose)(p.d,Object(i.b)(Object(da.b)({filters:at,activePanelId:Ra}),{changeSelection:ut,onChangeActivePanel:function(e){return{type:"@@vis/CHANGE_FILTER",payload:{filterId:e}}}}),Object(Gn.withProps)(function(e){var a=e.intl;return{optionsSpotlight:{hasClearAll:!0,mainPlaceholder:a.formatMessage({id:"vx.spotlight.placeholder.primary"}),secondaryPlaceholder:a.formatMessage({id:"vx.spotlight.placeholder.secondary"})},spotlight:{engine:xa.spotlightScopeListEngine,placeholder:a.formatMessage({id:"vx.spotlight.placeholder"}),fields:{"vx.spotlight.field.label":{id:"vx.spotlight.field.label",accessor:P.a(ue.a(null,"label"),S.a(u.a,A.a(""),T.a)),isSelected:!0}}},topElementComponent:function(e){return Wn.a(ne.a(e),8)?xa.VXSpotlight:null}}}),Gn.pure)(function(e){var a=e.topElementComponent,t=e.filters,n=Object(Le.a)(e,["topElementComponent","filters"]);return se.a(function(e){var t=e.id,o=e.label,i=e.values;return r.a.createElement(zn,Object.assign({},n,{id:t,key:t,label:o,items:i,TopElementComponent:a(i)}))},t)}),Yn=function(e){function a(){return Object(Sn.a)(this,a),Object(Tn.a)(this,Object(Cn.a)(a).apply(this,arguments))}return Object(Ln.a)(a,e),Object(Fn.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"div_lastnobs"},r.a.createElement("label",null,r.a.createElement("input",{name:"lastnobs",type:"checkbox",checked:this.props.lastnobs,onChange:function(){return e.props.changeLastnobs(!e.props.lastnobs)}}),r.a.createElement(p.a,{id:"de.filter.period.lastnobs"})))}}]),a}(r.a.Component);var Qn=Object(i.b)(function(e){var a=!1;return e.vis&&e.vis.lastnobservations&&(a=!0),{lastnobs:a}},function(e,a){return{changeLastnobs:function(a){return e({type:rt,payload:{lastnobservations:a}})}}})(Yn),Kn=function(e,a,t,n,r){var o=[];a.dimensions.forEach(function(e){r.indexOf(e)>=0?o.push(function(e,a,t){if(!t)return"";var n=t.filter(function(e){return e.id==a});return 0==n.length?"":n[0].values.map(function(e){return e.id}).join("+")}(0,e,t)):o.push("")});var i=window.location.href.split("?")[0]+"?ag=".concat(a.agencyID,"&df=").concat(a.id,"&ver=").concat(a.version);return i+="&dq=".concat(o.join(".")),i+="&startPeriod=".concat(n[0],"&endPeriod=").concat(n[1])},$n=function(e,a){if(!a)return null;for(var t=0;t<a.length;t++)if(e==a[t].id)return a[t];return null},Jn=Object(i.b)(function(e){return{selItems:tt(e),dataflow:ka(e),dataflows:$a(e),period:Sa(e)}})(function(e){var a=e.dataflows;if(!a)return r.a.createElement("div",null);var t,n,o=[];Object.keys(a).forEach(function(e){a[e].isFinal&&o.push({id:e,name:a[e].name})}),t=o,n=e.dataflowsOnEvidence,t.sort(function(e,a){return n.includes(e.id)?-1:n.includes(a.id)?1:e.name>a.name?1:a.name>e.name?-1:0});var i=[];return o.forEach(function(t){var n=t.id,o=r.a.createElement(p.a,{id:"de.dataflowNavigator.findMoreData"}),s=$n(n,e.dataflowsOnEvidence);null!=s&&s.actionText&&(o=s.actionText),n==e.dataflow.dataflowId||!function(e,a){if(!a)return!1;var t=a.filter(function(e){return"INDICATOR"==e.id});if(0==t.length)return!1;for(var n=0;n<t[0].values.length;n++){if(t[0].values[n].parentId==e)return!0;if("WS"==t[0].values[n].parentId){if(t[0].values[n].id.startsWith("WS_HCF")&&"WASH_HEALTHCARE_FACILITY"==e)return!0;if(t[0].values[n].id.startsWith("WS_PPL")&&"WASH_HOUSEHOLDS"==e)return!0;if(t[0].values[n].id.startsWith("WS_SCH")&&"WASH_SCHOOLS"==e)return!0}}return!1}(n,e.selItems)&&null==$n(n,e.dataflowsOnEvidence)||i.push(r.a.createElement("div",{key:n,className:"dfNav_item"},r.a.createElement("div",{className:"dfNav_dfnametop"},o),r.a.createElement("div",{className:"df_nav_dfname"},a[n].name),r.a.createElement("div",{className:"dfNav_link"},r.a.createElement("a",{className:"btn button",href:Kn(0,e.dataflows[n],e.selItems,e.period,e.stickyDims)},"Go to dataset"))))}),0==i.length?r.a.createElement("div",null):r.a.createElement("div",{className:"TableConfig_wrapper"},i)}),Zn=function(e){function a(){var e;return Object(Sn.a)(this,a),(e=Object(Tn.a)(this,Object(Cn.a)(a).call(this))).state={isOpen:!1,dateRangeIsOpen:!1},e}return Object(Ln.a)(a,e),Object(Fn.a)(a,[{key:"render",value:function(){var e=this,a=null;return a=this.state.isOpen?r.a.createElement("div",null,r.a.createElement("button",{className:"narrow_btnCloseFilters",onClick:function(){e.setState({isOpen:!1})}},r.a.createElement(p.a,{id:"vx.filters.close"})),r.a.createElement(xa.VXFilterContainerCollapsible,{titleLabel:"Date range",isOpen:!1,noScroll:!0},r.a.createElement(Qn,null),r.a.createElement("div",{style:this.props.lastnobs_active?{opacity:.4,pointerEvents:"none"}:{}},r.a.createElement(Vn,{isNarrow:this.props.isNarrow,isRtl:this.props.isRtl}))),r.a.createElement(xa.VXFilterContainerCollapsible,{titleLabel:"Disaggregations",isOpen:!1,noScroll:!0},r.a.createElement(qn,{isNarrow:this.props.isNarrow,isRtl:this.props.isRtl}),r.a.createElement(Xn,{isNarrow:this.props.isNarrow,isRtl:this.props.isRtl})),r.a.createElement(xa.VXFilterContainerCollapsible,{titleLabel:"Explore other datasets",isOpen:!1,noScroll:!0},1==Ae&&r.a.createElement(Jn,{stickyDims:_e,dataflowsOnEvidence:Ne}))):r.a.createElement("button",{className:"narrow_btnOpenFilters",onClick:function(){e.setState({isOpen:!0})}},r.a.createElement("span",{className:"pt-icon-standard pt-icon-settings"}),r.a.createElement(p.a,{id:"vx.filters.filterdata"})),r.a.createElement("div",{className:"NarrowFilters"},a)}}]),a}(r.a.Component);var er=Object(i.b)(function(e){return{}},function(e,a){return{}})(Zn),ar=t(703),tr=t(723),nr=t(343),rr=t(715),or=t(697),ir=t(710),sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Q.a(a,e)}},lr=P.a(f.a,or.a),cr=wa.a(function(e,a){var t=G.a(nr.a)(e);if(P.a(d.a("rows"),t,ae.a)(a)){var n=P.a(d.a("sections"),t,ae.a)(a)?"header":"sections",r=P.a(d.a(n),t,V.a)(a);return P.a(ma.a("rows",Q.a([r],ue.a([],"rows")(a))),function(e){return Object(x.a)({},e,Object(Ea.a)({},n,(a=n,t=r,P.a(d.a(a),ie.a(function(e){return F.a(_.a(e,t))})))(e)));var a,t})(a)}return a}),dr=function(e,a,t){return oe.a(function(e){return P.a(G.a(nr.a)(e),ae.a,F.a)}(e)(a),ae.a(t))},ur=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=function(e){var a=Oa.a(e),t=He.a(Te.rules.isTimeDimension)(a),n=He.a(Te.rules.isAreaDimension)(a),r=function(e,a){return P.a(rr.a(e),S.a(ft.a(a),d.a(a),P.a(f.a,V.a)),d.a("id"))},o=r([],n)(e),i=r([n,o],t)(e),s=P.a(rr.a([o,i]),f.a,fa.a("id"))(e);return{rows:S.a(u.a,A.a([]),G.a(z.a)([]))(o),header:S.a(u.a,A.a([]),G.a(z.a)([]))(i),sections:s}}(e),n=P.a(lr,a)(t);return w.a(O.a("sections"),sr(n))(t)},fr=function(){return Object(da.a)(Xa,P.a(fe.a([],["structure","dimensions","observation"]),Pe.a(se.a)(function(e,a){return P.a(ma.a("index",a),k.a(O.a("values"),Aa(ue.a([],"values")(e))))(e)})))},pr=function(){return Object(da.a)(fr(),P.a(Ia.a(P.a(ue.a([],"values"),ne.a,G.a(re.a)(1))),W.a(function(e,a){return{many:ar.a(d.a("id"))(e),one:ar.a(d.a("id"))(a)}},[V.a,q.a])))},mr=Object(da.a)(pr(),Ba,Ha,function(e,a,t){var n=e.many,r=e.one;return gt.a(function(e){return ir.a(function(a,t){return{id:t,label:e(a),value:t,isOne:!0}})}(a)(r),function(e,a){return ir.a(function(t,n){return{id:n,isTimePeriod:Te.rules.isTimeDimension(n),isTimeDimensionInverted:d.a(n)(a),label:e(t),value:n}})}(a,t)(n))}),vr=function(){return Object(da.a)(Ma,Ka,Object(da.a)(za,fr(),function(e,a){return va.a(ca,[la,la])(e,a)}),pr(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=n.many,o=n.one,i=P.a(S.a(ae.a,A.a(a),T.a),gt.a({sections:[],rows:[],header:[]}))(e),s=nr.a(t),l=Oa.a(o),c=lr(i);if(dr(t,c,i))return ur(r,s);var d=s(c);return ae.a(d)?cr(l,i):function(e,a){return P.a(w.a(O.a("sections"),sr(e)),cr(a))}(d,l)(i)})},hr=function(e){var a=e.title,t=Object(Le.a)(e,["title"]);return r.a.createElement(xa.VXFilterContainer,{titleLabel:a,noCollapse:!0,noScroll:!0},r.a.createElement(xa.DETableConfig,t))},br=Object(Gn.compose)(Object(i.b)(Object(da.b)({dimensions:mr,dimensionGetter:Ua,layout:vr()}),{changeLayout:dt,changeGetter:function(e){return{type:"@@vis/CHANGE_DIMENSION_GETTER",payload:{dimensionGetter:e}}},changeIsTimeDimensionInverted:function(e,a){return{type:"@@vis/CHANGE_IS_TIME_DIMENSION_INVERTED",payload:{id:e,isTimeDimensionInverted:a}}}}),p.d,Object(Gn.withProps)(function(e){var a=e.intl;return{isNarrow:!0,noPreview:!0,title:"",labels:{commit:r.a.createElement(p.a,{id:"de.table.layout.apply"}),cancel:r.a.createElement(p.a,{id:"de.table.layout.cancel"}),row:r.a.createElement(p.a,{id:"de.table.layout.x"}),column:r.a.createElement(p.a,{id:"de.table.layout.y"}),section:r.a.createElement(p.a,{id:"de.table.layout.z"}),d:r.a.createElement(p.a,{id:"de.table.layout.getter.dimension"}),o:r.a.createElement(p.a,{id:"de.table.layout.getter.observation"}),time:r.a.createElement(p.a,{id:"de.table.layout.time"}),asc:r.a.createElement(p.a,{id:"de.table.layout.time.asc"}),desc:r.a.createElement(p.a,{id:"de.table.layout.time.desc"}),help:r.a.createElement(p.a,{id:"de.table.layout.help"}),table:r.a.createElement(p.a,{id:"de.table.layout.table"}),one:r.a.createElement(p.a,{id:"de.table.layout.value.one"})},dimensionGetters:Y.a(function(e,t){return Object(x.a)({},e,Object(Ea.a)({},t,a.formatMessage({id:"vx.config.display.".concat(t)})))},{},Oa.a(_a))}}))(hr),gr=[],Er=function(e){var a=e.changeActionId,t=e.requestDataFile,n=e.dataflow,o=e.isFullscreen,i=e.isNarrow,s=[{icon:"import",id:"download",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.download"}),children:[{id:"csv-selection",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.download.csv.selection"}),action:function(){return t({dataflow:n})}},{id:"csv-full",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.download.csv.all"}),action:function(){return t({isDownloadAllData:!0,dataflow:n})}}]},{icon:o?"minimize":"maximize",id:"fullscreen",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.fullscreen"}),action:function(){return a("fullscreen")}}],l={icon:"filter-list",id:"filters",label:r.a.createElement(p.a,{id:"de.side.filters.action"}),action:function(){return a("filters")}};return P.a(S.a(A.a(i),I.a(l),T.a))(s)},yr=Object(Gn.compose)(Object(i.b)(Object(da.b)({isDownloading:ht("requestingDataFile"),dataflow:ka}),{changeMenu:st,changeActionId:lt,requestDataFile:sn}),Object(Gn.withProps)(function(e){var a=e.isDownloading,t=e.viewerId,n=e.actionId,o=Object(Le.a)(e,["isDownloading","viewerId","actionId"]);return{loadingActionId:a?"download":null,selectedMenuId:t,selectedActionId:n,actions:Er(Object(x.a)({},o,{viewerId:t})),menus:gr,showLabel:r.a.createElement(p.a,{id:"de.visualisation.toolbar.show"})}}))(xa.DEVisualisationToolbar),wr=function(e){var a=e.isNarrow,t=e.isRtl,n=e.isFullscreen,o=e.actionId,i=e.isFilters;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yr,{isNarrow:a,isRtl:t,isFull:n,actionId:o}),a&&r.a.createElement(xa.VXFilterContainer,{isOpen:i,noScroll:!0,noHeader:!0},r.a.createElement(qn,{isNarrow:a,isRtl:t}),r.a.createElement(Vn,{isNarrow:a,isRtl:t}),r.a.createElement(Xn,{isNarrow:a,isRtl:t}),r.a.createElement(br,{isNarrow:a,isRtl:t})))},Or=(Object(Gn.compose)(Object(i.b)(Object(da.b)({actionId:Ca,viewerId:Ta})),Object(Gn.withProps)(function(e){var a=e.actionId,t=e.viewerId;return{isChartConfig:_.a("config",a)&&!_.a("table",t),isFilters:_.a("filters",a)}}))(wr),t(341)),Ir=t.n(Or),jr=function(e){var a=e.label,t=e.showCopyrightSymbol;return r.a.createElement("div",{className:"div_footer"},t?"\xa9":null,a)},Dr=pn.b.div({width:"100%",height:"100%",padding:"4px 6px",fontSize:16,textAlign:"right"},function(e){var a=e.isYLast,t=e.isXLast,n=e.theme;return{color:n.table.oFont,borderTop:"1px solid ".concat(n.table.border),borderLeft:"1px solid ".concat(n.table.border),borderRight:a?"1px solid ".concat(n.table.border):null,borderBottom:t?null:"1px solid ".concat(n.table.border),backgroundColor:n.table.xBg}}),xr=function(e){var a=e.renderObservation,t=e.variant;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dr,{isXLast:!0,isYLast:!0},r.a.createElement(xa.DETableCell,{value:"Value",variant:t})),r.a.createElement(Dr,{isYLast:!0},a()))},Ar=[],_r=function(e){var a=e.requestDataFile,t=e.requestExcelDataFile,n=e.requestExcelDataFileLong,o=e.dataflow,i=e.changeViewer,s=e.viewerId,l=e.map,c=e.mapRefAreaDimId,d=e.mapAreasToPreselect,u=e.helpUrl,f=e.changeDataqueryMultipleUpdate,m=e.downloadFullEnabled,v=[{icon:"import",id:"download",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.download"}),children:[{id:"excel-long",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.download.excel.selection.long"}),action:function(){return n({isDownloadAllData:!1,dataflow:o})}},{id:"excel-selection",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.download.excel.selection"}),action:function(){return t({isDownloadAllData:!1,dataflow:o})}},{id:"csv-selection",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.download.csv.selection"}),action:function(){return a({dataflow:o})}}]}];"0"!=m&&v[0].children.push({id:"csv-full",label:r.a.createElement(p.a,{id:"de.visualisation.toolbar.action.download.csv.all"}),action:function(){return a({isDownloadAllData:!0,dataflow:o})}});var h={icon:"map",id:"map",label:"Map",action:function(){f(c,d),i("map")}};"undefined"!=typeof l&&l&&v.push(h);var b={icon:"help",id:"help",label:"Help",action:function(){window.open(u,"_self")}},g=[{icon:"th",id:"table",label:"Table",action:function(){return i("table")}}];return u&&(v.push(b),g.push(b)),"table"==s?v:"map"==s?g:void 0},Nr=Object(Gn.compose)(Object(i.b)(Object(da.b)({isDownloading:ht("requestingDataFile"),dataflow:ka,actionId:Ca,viewerId:Ta,map:Ja,mapAreasToPreselect:function(){var e=Se();return null==e||null==e.areas?null:e.areas},mapRefAreaDimId:Fe,helpUrl:Va,downloadFullEnabled:qa}),{changeMenu:st,changeActionId:lt,requestDataFile:sn,requestExcelDataFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.isDownloadAllData,t=e.dataflow;return function(e,n){var r=a?{}:{startPeriod:V.a(Sa(n())),endPeriod:q.a(Sa(n())),lastnobservations:Fa(n())},o=C.a([[A.a(F.a(a)),ma.a("dataquery",Za(n()))],[L.a,T.a]])({locale:mt(n()),dataflow:t}),i=S.a(ft.a("id"),P.a(d.a("id"),function(e){return"getDataFile/".concat(e)}),A.a("requestingDataFile"))(t),s=Ma(n()),l=Ha(n()).TIME_PERIOD;return rn(e,{method:"getExcelDataFile",configArgs:o,requestArgs:r,pendingId:i,layout:s,timeDimensionInverted:l})}},requestExcelDataFileLong:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.isDownloadAllData,t=e.dataflow;return function(e,n){var r=a?{}:{startPeriod:V.a(Sa(n())),endPeriod:q.a(Sa(n())),lastnobservations:Fa(n())},o=C.a([[A.a(F.a(a)),ma.a("dataquery",Za(n()))],[L.a,T.a]])({locale:mt(n()),dataflow:t}),i=S.a(ft.a("id"),P.a(d.a("id"),function(e){return"getDataFile/".concat(e)}),A.a("requestingDataFile"))(t);return rn(e,{method:"getExcelDataFileLong",configArgs:o,requestArgs:r,pendingId:i})}},changeViewer:st,changeDataqueryMultipleUpdate:function(e,a){return function(t,n){return t({type:"@@vis/sdmx/CHANGE_DATAQUERY_ADD_FILTERS",payload:{filterId:e,values:a,dimensions:za(n())}})}}}),Object(Gn.withProps)(function(e){var a=e.isDownloading,t=e.viewerId,n=e.actionId,o=Object(Le.a)(e,["isDownloading","viewerId","actionId"]);return{loadingActionId:a?"download":null,selectedMenuId:t,selectedActionId:n,actions:_r(Object(x.a)({},o,{viewerId:t})),menus:Ar,showLabel:r.a.createElement(p.a,{id:"de.visualisation.toolbar.show"}),isFilters:_.a("filters",n)}}))(xa.DEVisualisationToolbar),Sr=function(e){var a=e.returnedKeyCount,t=e.limitedTo,n=e.animationMillis,o="dataLimited_msgBox";if(!(a>t))return null;return document.getElementById("root").addEventListener("data_loaded",function e(){document.getElementById("root").removeEventListener("data_loaded",e),setTimeout(function(){var e=document.getElementById(o);e&&(e.addEventListener("transitionend",function e(){var a=document.getElementById(o);a.removeEventListener("transitionend",e),a.style.display="none"},!1),e.classList.add("dataLimited_msgBox_trans"))},n)}),r.a.createElement("div",{className:"div_dataLimited",id:o,style:{position:"relative"}},r.a.createElement("p",null,"Visualization is limited to "," "+t," values to avoid slowing your browser.",r.a.createElement("br",null),"Please further filter your data, or <Download> the entire dataset as a CSV."),r.a.createElement("div",{style:{position:"absolute",top:"-20px",right:"-20px"},className:"pt-tag-remove"}))},Fr=pn.b.div({borderLeftWidth:0,borderRightWidth:0,marginTop:10,overflowX:"auto"}),Tr=function(e){var a=e.header,t=e.viewerConfig,n=e.data,o=e.layoutIds,i=e.renderObservation,s=e.itemFormatter,l=e.isNotATable,c=(e.footnotes,e.variant),d=e.limited;e.selItems;return r.a.createElement(Fr,null,r.a.createElement("div",{className:"header_download"},r.a.createElement(Ir.a,Object.assign({},a,{fonts:t.fonts.header})),r.a.createElement(Nr,null)),r.a.createElement(Sr,{limitedTo:d.limitedTo,returnedKeyCount:d.returnedKeyCount,animationMillis:8e3}),l?r.a.createElement(xr,{renderObservation:i,variant:c}):r.a.createElement("div",{id:"tableScrollWrapper1",style:{transform:"rotateX(180deg)",overflowX:"auto"}},r.a.createElement("div",{id:"tableScrollWrapper2",style:{transform:"rotateX(180deg)"}},r.a.createElement(xa.SDMXTable,{data:n,layoutIds:o,renderObservation:i,itemFormatter:s}))),r.a.createElement(jr,{label:"UNICEF",showCopyrightSymbol:!0}))},Cr=Object(i.b)(Object(da.b)({variant:Ua}))(xa.DETableCell),Lr=function(e,a){if(""==e.uprs)return e;var t=e.uprs;return a.footnotes.forEach(function(e){if("UNIT_MULTIPLIER"==e.id&&e.isFootnote){var a=e.values.map(function(e){return e.name}).join(", ");t=t+" ("+a+")"}}),e.uprs=t,e},Rr=function(e,a){e.sort(function(e,t){var n=a.indexOf(e.id),r=a.indexOf(t.id);return-1==n?1:-1==r?-1:n-r})},kr=function(e,a,t,n){if(n&&n.text)for(var r in n.text)n.text.hasOwnProperty(r)&&e.dimensions[r]&&Rr(e.dimensions[r].values,n.text[r]);return De&&a&&a.rows&&a.rows.forEach(function(a){e.dimensions[a].values&&e.dimensions[a].values.forEach(function(e){"_T"==e.id&&(e.name=" ")})}),e},Pr=Object(Gn.compose)(Object(i.b)(Object(da.b)({dimensions:pr(),customAttributes:et,layoutIds:Object(da.a)(vr(),pr(),function(e,a){var t=a.many,n=nr.a(lr(e),Oa.a(t));return se.a(G.a(nr.a)(n))(e)}),itemFormatter:Ba,data:Object(da.a)(Ha,Ya,tr.a(2,Te.rules.getTableData)),variant:Ua,limited:Qa,selItems:tt,customSort:nt})),Object(Gn.mapProps)(function(e){var a=e.chartData,t=e.viewerConfig,n=e.data,r=e.customAttributes,o=e.dimensions,i=e.layoutIds,s=e.itemFormatter,l=e.variant,c=e.limited,u=e.selItems,p=e.customSort;return{viewerConfig:t,data:kr(n,i,0,p),layoutIds:i,itemFormatter:s,renderObservation:Te.rules.observationGetter(Cr)({observations:d.a("observations",n),dimensions:o,customAttributes:r,isRtl:!1})(T.a),header:Lr(X.a(["title","subtitle","uprs"],a),X.a(["footnotes"],r)),footnotes:d.a("footnotes",a),isNotATable:P.a(d.a("observations"),f.a,ne.a,_.a(1))(n),variant:l,limited:c,selItems:u,customSort:p}}))(Tr),Gr=Object(Gn.mapProps)(function(e){return{data:e.chartData,options:e.chartOptions,config:e.viewerConfig,type:e.type}})(Te.Chart),Hr={fontFamily:"Segoe UI"},Mr={owner:"UNICEF",logo:"",footer_visible:!1,fonts:{header:{subtitle:{fontFamily:"Segoe UI",fontWeight:500},title:Hr,uprs:Hr,tooltip:Hr},chart:{axisLegend:Hr,chartLegend:Hr,tooltip:{primary:Hr,secondary:Hr}},footer:{copyright:Hr,source:Hr}}},Ur=t(162),Br=t.n(Ur);t(2076);var Vr=function(e){var a=e.item.values.find(function(a){return a.id==e.selected});return r.a.createElement("div",{className:"mapSubfilterGroup"},r.a.createElement("div",{className:"mapSubfilterLbl"},e.item.name),r.a.createElement("div",{className:"mapSubfilterSel"},a.name))},qr=function(e){function a(){return Object(Sn.a)(this,a),Object(Tn.a)(this,Object(Cn.a)(a).apply(this,arguments))}return Object(Ln.a)(a,e),Object(Fn.a)(a,[{key:"render",value:function(){var e=this;return this.props.filters?r.a.createElement("div",{className:"mapFiltersGroup"},this.props.filters.map(function(a){return r.a.createElement(Vr,{key:a.id,item:a,selected:e.props.selection[a.id],onValueChange:e.props.onValueChange})})):null}}]),a}(r.a.Component),Wr="TIME_PERIOD",zr={poly_disabled:{weight:1,fillOpacity:.1,color:"#000000"},poly_highlight:{weight:3},fillOpacity:.85,mapColors:["#0297C950","#0297C970","#0297C990","#0297C9B0","#0297C9D0","#0297C9F0","#0297C9FF"]},Xr=function(e){function a(){var e,t;Object(Sn.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(Tn.a)(this,(e=Object(Cn.a)(a)).call.apply(e,[this].concat(r)))).filteredVals=null,t.obs_val_count=0,t.updateSel=function(e){t.props.changeFilter({id:e.id,val:e.value})},t.getValue=function(e,a){for(var n=[],r={},o="",i=0;i<t.props.sdmx.structure.dimensions.observation.length;i++){var s=t.props.sdmx.structure.dimensions.observation[i];if("_"==(o=s.id==t.props.ref_area_dim_id?e:s.id==Wr?"_":a[s.id]))n.push("_");else{var l=s.values.findIndex(function(e){return e.id==o});if(-1==l)return null;r[s.id]={name:s.values[l].name,id:s.values[l].id},n.push(l)}}if(n=n.join(":"),t.props.latest_datapoints[n]){r.obs_val=t.props.latest_datapoints[n],r.attr=[];for(var c=1;c<r.obs_val.length-1;c++)null==r.obs_val[c]||isNaN(r.obs_val[c])||r.attr.push({n:t.props.sdmx.structure.attributes.observation[c-1].name,v:t.props.sdmx.structure.attributes.observation[c-1].values[r.obs_val[c]].name})}else r.obs_val=null;return r},t.getFilteredVals=function(){if("undefined"==typeof t.props||!t.props)return null;if("undefined"==typeof t.props.sdmx||!t.props.sdmx)return null;var e=[];return t.props.sdmx.structure.dimensions.observation.find(function(e){return e.id==t.props.ref_area_dim_id}).values.forEach(function(a){e.push(t.getValue(a.id,t.props.selection))}),e},t.onEachLayer=function(e){for(var a=null,n=0;n<t.filteredVals.length;n++)if(t.filteredVals[n][t.props.ref_area_dim_id].id==e.feature.properties.ISO3_CODE){a=t.filteredVals[n];break}if(a&&a.obs_val){var r=-1;isNaN(a.obs_val[0])||(r=t.getColorBucket(a.obs_val[0]));var o={weight:1,fillOpacity:zr.fillOpacity,color:zr.mapColors[r]};e.setStyle(o),e.feature.properties.calculated_style=o}else e.setStyle(zr.poly_disabled),e.feature.properties.calculated_style=zr.poly_disabled;e.feature.properties.values=a},t.highlighFeature=function(e){var a=e.target;a.setStyle(zr.poly_highlight),Br.a.Browser.ie||Br.a.Browser.opera||Br.a.Browser.edge||a.bringToFront(),t.infobox.update(a.feature.properties)},t.resetHighlight=function(e){var a=e.target;a.feature.properties.calculated_style&&a.setStyle(a.feature.properties.calculated_style),t.infobox.update()},t.zoomToFeature=function(e){t.map.fitBounds(e.target.getBounds())},t.onEachFeature=function(e,a){a.on("mouseover",t.highlighFeature),a.on("mouseout",t.resetHighlight),a.on("click",t.zoomToFeature)},t.getColorBucket=function(e){for(var a=0;a<t.steps.length-1;a++)if(e>=t.steps[a]&&e<t.steps[a+1])return a;return e==t.steps[t.steps.length-1]?t.steps.length-2:null},t._createLegendHTML=function(){for(var e="",a=0,n=0,r=0;r<t.steps.length-1;r++)a=Math.round(10*t.steps[r])/10,n=Math.round(10*t.steps[r+1])/10,e+='<i style="background:'+zr.mapColors[r]+'"></i> '+a+"&ndash;"+n+"<br>";return e},t.createLegend=function(e){var a=Br.a.DomUtil.create("div","legend");return a.innerHTML=t._createLegendHTML(1,1),a},t}return Object(Ln.a)(a,e),Object(Fn.a)(a,[{key:"componentDidMount",value:function(){this.map=Br.a.map("de_map",{center:[0,0],attributionControl:!1}),this.countryLayer=Br.a.geoJSON(this.props.shape,{style:zr.poly_disabled,onEachFeature:this.onEachFeature}).addTo(this.map),this.infobox=Br.a.control(),this.legend=Br.a.control({position:"bottomright"}),this.legend.onAdd=this.createLegend,this.infobox.onAdd=function(e){return this._div=Br.a.DomUtil.create("div","map_info"),this.update(),this._div},this.infobox.update=function(e){if(e){var a="",t="";if(e.values&&e.values.obs_val){var n=[];for(var r in e.values)e.values.hasOwnProperty(r)&&r!=e.ref_area_dim_id&&"obs_val"!=r&&n.push(e.values[r].name);a=e.values.obs_val[0],e.values.attr.forEach(function(e){t=t+'<span class="attr_lbl">'+e.n+": </span>"+e.v+"<br>"}),this._div.innerHTML="<b>"+e.NAME_ENGL+'</b><div id="map_time_period_val">Time period: '+e.values.obs_val[e.values.obs_val.length-1]+'</div><div id="map_val">'+a+'</div><div id="map_attribs">'+t+"</div>"}else this._div.innerHTML="<b>"+e.NAME_ENGL+'</b><div id="map_time">Change your filters to get the value</div><div id="map_val"></div>'}else this._div.innerHTML="<b>Hover on any active area</b>"},this.infobox.addTo(this.map),this.map.fitBounds(this.countryLayer.getBounds()),this.countryLayer.eachLayer(this.onEachLayer),this.map.invalidateSize()}},{key:"render",value:function(){var e=this;if(this.valMin=Number.MAX_VALUE,this.valMax=Number.MIN_VALUE,this.valRange=this.valMax,this.obs_val_count=0,this.steps=[],"undefined"!=typeof this.props.sdmx){this.filteredVals=this.getFilteredVals(),this.filteredVals.forEach(function(a){a.obs_val&&(e.obs_val_count+=1)}),this.filteredVals.forEach(function(a){if(a.obs_val&&!isNaN(a.obs_val[0])){var t=parseFloat(a.obs_val[0]);t<e.valMin&&(e.valMin=t),t>e.valMax&&(e.valMax=t)}}),this.valRange=this.valMax-this.valMin;for(var a=this.valRange/zr.mapColors.length,t=0;t<zr.mapColors.length;t++)this.steps.push(this.valMin+a*t);this.steps.push(this.valMax)}return"undefined"!=typeof this.map&&"undefined"!=typeof this.props.sdmx&&(this.countryLayer.eachLayer(this.onEachLayer),this.legend.addTo(this.map),0==this.obs_val_count&&this.infobox.update({show:!1})),r.a.createElement(r.a.Fragment,null,r.a.createElement(qr,{filters:this.props.filters,selection:this.props.selection,onValueChange:this.updateSel}),r.a.createElement("div",{id:"de_map_container",style:{position:"relative",height:"500px"}},r.a.createElement("div",{id:"de_map"}),r.a.createElement("div",{id:"de_map_message",style:0==this.obs_val_count?{display:""}:{display:"none"}},r.a.createElement("h5",null,"Change your selection"),r.a.createElement("div",null,"No values available for the current selection, please change your filters combination"))))}}]),a}(r.a.Component);var Yr=Object(i.b)(function(e){var a=Fe(),t=[];if("undefined"!=typeof e.sdmx)for(var n=0;n<e.sdmx.data.structure.dimensions.observation.length;n++){var r=e.sdmx.data.structure.dimensions.observation[n];r.id!=a&&r.id!=Wr&&t.push(r)}var o=function(e){for(var a=-1,t=null,n=[],r={},o=0;o<e.structure.dimensions.observation.length;o++)if("TIME_PERIOD"==e.structure.dimensions.observation[o].id){a=o,t=Object(Ce.a)(e.structure.dimensions.observation[o].values);break}for(var i=0;i<t.length;i++)t[i].key_id=i;t.sort(function(e,a){return e.start<a.start?1:e.start>a.start?-1:0}),t.forEach(function(e){n.push(""+e.key_id)});for(var s="",l=-1,c=0,d=Object.entries(e.dataSets[0].observations);c<d.length;c++){var u=d[c],f=Object(ya.a)(u,2),p=f[0];f[1],s=p.split(":"),l=n.indexOf(s[a]),s[a]="_",r[s=s.join(":")]&&r[s],r[s]=l}for(var m={},v="",h=null,b=0,g=Object.entries(r);b<g.length;b++){var E=g[b],y=Object(ya.a)(E,2),w=y[0],O=y[1];v=w.replace("_",n[O]),h=e.dataSets[0].observations[v],m[w]=Object(Ce.a)(h),m[w].push(e.structure.dimensions.observation[a].values[n[O]].id)}return m}(e.sdmx.data);return{shape:e.sdmx.map,sdmx:e.sdmx.data,latest_datapoints:o,filters:t,selection:e.sdmx.map_selection,ref_area_dim_id:a}},function(e,a){return{changeFilter:function(a){return e({type:nn,payload:{filter:a}})}}})(Xr);var Qr=Object(i.b)(function(e){return{title:e.sdmx.data.structure.name}})(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header_download"},r.a.createElement(Ir.a,{title:e.title,fonts:Mr.fonts.header}),r.a.createElement(Nr,null)),r.a.createElement(Yr,null))}),Kr=Object(Gn.compose)(Object(i.b)(Object(da.b)({type:Ta})),Object(Gn.withProps)({viewerConfig:Mr}),Object(Gn.branch)(P.a(d.a("data"),u.a),Object(Gn.renderComponent)(function(){return r.a.createElement(xa.VXNoData,{message:r.a.createElement(p.a,{id:"vx.no.data"})})})),Object(Gn.branch)(function(e){var a=e.type;return _.a(a,"table")},Object(Gn.renderComponent)(Pr),Object(Gn.renderComponent)(Qr)))(Gr),$r=t(206),Jr=t(294),Zr=t.n(Jr),eo=t(295),ao=t.n(eo),to=t(340),no=t.n(to),ro=function(e){var a=e.footnotes;return r.a.createElement(xa.VXFilterContainerCollapsible,{titleLabel:r.a.createElement(p.a,{id:"footnotes"}),isOpen:!0,noScroll:!0},r.a.createElement(Zr.a,{dense:!0},se.a(function(e){var a=e.id,t=e.label,n=e.values;return r.a.createElement(ao.a,{key:a},r.a.createElement(no.a,{primary:U.a(a,t),secondary:P.a(fa.a("name"),M.a(" | "))(n)}))})(a)))},oo=Object(Gn.compose)(Object(i.b)(Object(da.b)({attributes:et})),Object(Gn.mapProps)(P.a(d.a("attributes"),X.a(["footnotes"]),d.a("footnotes"),$r.a(P.a(d.a("id"),G.a(B.a)(["UNIT_MEASURE"]))),ma.a("footnotes",ja.a,{}))))(ro),io=function(e){var a=e.data,t=e.enhancedData,n=e.isRtl,o=e.isNarrow,i=(e.isFullscreen,e.isLoadingData),s=e.display,l=e.formaterIds,c=e.type,d=e.options,u=e.dataUrl;return r.a.createElement(Te.RulesDriver,{data:t,display:s,formaterIds:l,type:c,options:d,sdmxUrl:u,source:{link:window.location.href},render:function(e){var t=e.chartData,s=e.chartOptions;return e.properties,r.a.createElement("div",null,i&&r.a.createElement(xa.VXLoader,{isNarrow:o,isRtl:n,loadingLabel:r.a.createElement(p.a,{id:"de.visualisation.data.loading"}),isLarge:!0}),!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Kr,{chartData:t,chartOptions:s,data:a,isNarrow:o,isRtl:n}),r.a.createElement("br",null),r.a.createElement(oo,null),r.a.createElement("div",{style:{textAlign:"right",fontWeight:"300"}},"V1.15")))}})},so=Object(Gn.compose)(Object(i.b)(Object(da.b)({isLoadingData:ht("getData"),display:La,type:Ta,data:Ya,dataflow:ka,dataquery:Pa,locale:mt,period:Sa})),Object(Gn.withProps)(function(e){var a=e.data,t=e.dataflow,n=e.dataquery,r=e.locale,o=e.period;return{dataUrl:ra({configArgs:{dataflow:t,dataquery:n,locale:r},requestArgs:{period:o}}),options:Oe,formaterIds:{decimals:ye("decimals"),prefscale:ye("prefscale")},enhancedData:a}}))(io),lo=t(672),co=function(e){function a(e){var t;return Object(Sn.a)(this,a),(t=Object(Tn.a)(this,Object(Cn.a)(a).call(this,e))).onChangeIsOpen=function(){t.setState({isOpen:!t.state.isOpen})},t.handleNodeExpand=function(e){e.isExpanded=!0,t.setState({expandedNodes:t.state.expandedNodes.concat(e.id)})},t.handleNodeCollapse=function(e){e.isExpanded=!1;var a=Object(Ce.a)(t.state.expandedNodes),n=a.indexOf(e.id);n>=0&&a.splice(n,1),t.setState({expandedNodes:a})},t.handleNodeClick=function(e){t.props.changeSelection("REF_AREA",e.codeID,t.props.dimensions)},t.expandNodes=function(e,a){a.includes(e.id)&&(e.isExpanded=!0),e.childNodes&&e.childNodes.length>0&&e.childNodes.forEach(function(e){t.expandNodes(e,a)})},t.state={expandedNodes:[],isOpen:!1},t}return Object(Ln.a)(a,e),Object(Fn.a)(a,[{key:"render",value:function(){var e=this;if(!this.props.hierarchy)return null;this.props.hierarchy&&this.props.hierarchy.forEach(function(a){e.expandNodes(a,e.state.expandedNodes)});var a=this.props.hierarchyName;return null==a?null:this.props.isCollapsible?r.a.createElement("div",{className:"TableConfig_wrapper"},r.a.createElement(xa.VXFilterContainerCollapsible,{titleLabel:a,isOpen:this.state.isOpen,noScroll:!0,onChangeIsOpen:this.onChangeIsOpen},r.a.createElement(lo.a,{className:"hierarchy_tree",contents:this.props.hierarchy,onNodeExpand:this.handleNodeExpand,onNodeCollapse:this.handleNodeCollapse,onNodeClick:this.handleNodeClick}))):r.a.createElement("div",{className:"TableConfig_wrapper"},!this.props.isCollapsible&&null!=a&&r.a.createElement("h6",null,a),r.a.createElement(lo.a,{contents:this.props.hierarchy,onNodeExpand:this.handleNodeExpand,onNodeCollapse:this.handleNodeCollapse,onNodeClick:this.handleNodeClick}))}}]),a}(r.a.Component),uo=function(e,a,t){if(!e||!e.hierarchies)return[];var n=[];a&&a.length>0&&a[0].values.forEach(function(e){n.push(e.id)});var o=[];t[0]&&t[0].values.forEach(function(e){o.push(e.id)});var i=[];return e.hierarchies.forEach(function(e){i.push(function e(a,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!1,s=!1,l=0;t&&t.length>0&&t.includes(a.codeID)&&(i=!0,s=!0,l++),n&&n.length>0&&n.includes(a.codeID);var c=null;a.codes&&a.codes.length>0&&(c=[],a.codes.forEach(function(a){var n=e(a,t,o+1);c.push(n),s=s||n.selCodeParent,l+=n.selCodeCount}));var d={id:a.id,codeID:a.codeID,label:a.name,selCodeParent:s,selCodeCount:l,depth:o};return s&&!i&&(d.secondaryLabel=r.a.createElement("span",{className:"hier_selChildCount"},l)),d.className=i?"hier_sel":"hier_unsel",c&&c.length>0&&(d.childNodes=c),d}(e,n,o))}),i};var fo=Object(i.b)(function(e,a){return{hierarchy:uo(e.sdmx.hierarchy,tt(e),e.sdmx.dimensions),hierarchyName:e.sdmx.hierarchy?e.sdmx.hierarchy.name:null,dimensions:e.sdmx.dimensions,selItems:tt(e)}},function(e,a){return{changeSelection:function(a,t,n){return e({type:"@@vis/sdmx/CHANGE_DATAQUERY",payload:{filterId:a,valueId:t,dimensions:n}})}}})(co),po=function(e){var a=e.isNarrow,t=e.isRtl,n=e.isLoadingStructure,o=e.isLoadingData,i=e.isFullscreen,s=e.lastnobs_active,l=e.viewerId;return r.a.createElement(xa.DELayout,{isNarrow:a,isRtl:t,isFull:i},r.a.createElement(xa.DELayoutContent,null,n&&r.a.createElement(xa.VXLoader,{isNarrow:a,isRtl:t,loadingLabel:r.a.createElement(p.a,{id:"de.visualisation.loading"}),isLarge:!0})),!n&&r.a.createElement(xa.DELayoutSide,null,a&&r.a.createElement(er,{isNarrow:a,isRtl:t,lastnobs_active:s}),!a&&r.a.createElement("div",null,r.a.createElement(Qn,null),r.a.createElement("div",{style:s?{opacity:.4,pointerEvents:"none"}:{}},r.a.createElement(Vn,{isNarrow:a,isRtl:t})),r.a.createElement(qn,{isNarrow:a,isRtl:t}),r.a.createElement(Xn,{isNarrow:a,isRtl:t}),r.a.createElement(fo,{isCollapsible:!0}),"table"==l&&r.a.createElement("div",{className:"TableConfig_wrapper"},r.a.createElement(xa.VXFilterContainerCollapsible,{titleLabel:r.a.createElement(p.a,{id:"de.table.layout.title"}),isOpen:!1,noScroll:!0},!o&&r.a.createElement(br,{isRtl:t}))),1==Ae&&r.a.createElement(Jn,{stickyDims:_e,dataflowsOnEvidence:Ne}))),!n&&r.a.createElement(xa.DELayoutMain,null,r.a.createElement(so,{isNarrow:a,isRtl:t,isFullscreen:i})))},mo=Object(Gn.compose)(function(e){return function(a){function t(){var a,o;Object(Sn.a)(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(o=Object(Tn.a)(this,(a=Object(Cn.a)(t)).call.apply(a,[this].concat(s)))).render=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Un,null,r.a.createElement(e,Object.assign({},o.props,{isNarrow:!0}))),r.a.createElement(Bn,null,r.a.createElement(e,o.props)))},o}return Object(Ln.a)(t,a),t}(r.a.Component)},Object(i.b)(Object(da.b)({isLoadingStructure:ht("getStructure"),isLoadingData:ht("getData"),isRtl:bt,isFullscreen:Ga,viewerId:Ta,dataflow:ka,lastnobs_active:Fa,selItems:getSelection})),Object(Gn.branch)(P.a(d.a("dataflow"),u.a),Gn.renderNothing))(po),vo=(t(2077),t(605)),ho=!1;if("undefined"!==typeof window.ES6_Error&&(ho=window.ES6_Error),ho)throw new Error("Browser not Supported");console.info("".concat(vo.name,"@").concat(vo.version)),function(e){var a,t=e.locales,n=void 0===t?[]:t,r=e.localeId,o=void 0===r?"en":r;Object(p.c)(v.a),Object(p.c)(b.a),a=o,l.a.locale(E(a)),c.a(function(e){var a=d.a("delimiters")(e);u.a(a)||l.a.register("locale",E(d.a("id")(e)),{delimiters:a})},f.a(n))}(window.SETTINGS.i18n);var bo=window.SETTINGS.i18n.locales[window.SETTINGS.i18n.localeId],go=!1;window.DATAFLOW.lastnobservations&&window.DATAFLOW.lastnobservations>0&&(go=!0);var Eo={app:{logs:[],pending:{},locale:bo},vis:{filter:void 0,viewer:"table",action:void 0,period:void 0,dataflow:void 0,isFullscreen:!1,dataquery:void 0,display:"label",timeDimensionInverted:{TIME_PERIOD:!0},layout:void 0,dimensionGetter:"label",lastnobservations:go,map:void 0,helpUrl:null,downloadFullEnabled:"1"},sdmx:{dimensions:[],data:void 0,layout:{},dataflows:{},map_selection:{}}};window.SETTINGS.helpUrl&&(Eo.vis.helpUrl=window.SETTINGS.helpUrl),window.SETTINGS.timeDimensionOrder&&("asc"==window.SETTINGS.timeDimensionOrder?Eo.vis.timeDimensionInverted.TIME_PERIOD=!1:"desc"==window.SETTINGS.timeDimensionOrder&&(Eo.vis.timeDimensionInverted.TIME_PERIOD=!0)),window.SETTINGS.downloadFullEnabled&&(Eo.vis.downloadFullEnabled=window.SETTINGS.downloadFullEnabled);var yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=[cn.a,dn],n=[y.applyMiddleware.apply(void 0,Object(Ce.a)(un(t)))];return Object(y.createStore)(a,e,y.compose.apply(void 0,n))}(Eo,ln);console.log("initialized with DATAFLOW:",window.DATAFLOW),yo.dispatch(ct(window.DATAFLOW)),window.SETTINGS.unicef.showDataflowNavigator&&yo.dispatch({type:"@@vis/sdmx/LOAD_DATAFLOWS",payload:{}});var wo,Oo=window.DATAFLOW.agencyId+":"+window.DATAFLOW.dataflowId;window.SETTINGS.map&&window.SETTINGS.map[Oo]&&window.SETTINGS.map[Oo].geojson_url&&yo.dispatch((wo=window.SETTINGS.map[Oo].geojson_url,{type:it,payload:wo})),window.SETTINGS.hierarchy&&window.SETTINGS.hierarchy.agencyId&&yo.dispatch(function(e,a){return{type:"@@vis/sdmx/LOAD_HIERARCHY",payload:{config:e,dataflow:a}}}(window.SETTINGS,window.DATAFLOW));var Io=document.getElementById("root");Io.addEventListener("unicef_changeDataflow",function(e){return yo.dispatch(ct(e.detail))}),console.log("listen unicef_changeDataflow event"),Object(o.render)(r.a.createElement(Pn,{isFinal:!0},r.a.createElement(i.a,{store:yo},r.a.createElement(Nn,{theme:{},isRtl:bo.isRtl},r.a.createElement(g,{localeId:bo.id,messages:window.I18N},r.a.createElement(Pn,null,r.a.createElement(mo,null)))))),Io)},605:function(e){e.exports={name:"unicef-data-explorer",version:"0.1.0",author:"redpelicans",license:"PRIVATE",private:!0,dependencies:{"@babel/core":"7.4.3","@sis-cc/dotstatsuite-components":"git+https://dotstatComponents:YgT9DjxaXYutK1pckX-J@gitlab.com/Daniele600/dotstatsuite-components.git","@sis-cc/dotstatsuite-ui-components":"git+https://dotstatComponents:YgT9DjxaXYutK1pckX-J@gitlab.com/Daniele600/dotstatsuite-ui-components.git#additionalGuiChanges","@svgr/webpack":"4.1.0","@typescript-eslint/eslint-plugin":"^1.7.0","@typescript-eslint/parser":"^1.7.0",add:"^2.0.6",axios:"^0.18.0","babel-eslint":"10.0.1","babel-jest":"24.7.1","babel-loader":"8.0.5","babel-plugin-named-asset-import":"^0.3.7","babel-preset-react-app":"^8.0.0","case-sensitive-paths-webpack-plugin":"2.2.0","cross-env":"^5.2.1","css-loader":"2.1.1",dotenv:"6.2.0","dotenv-expand":"4.2.0","es6-set":"^0.1.5",eslint:"^5.16.0","eslint-config-prettier":"^4.1.0","eslint-config-react-app":"^4.0.0","eslint-loader":"2.1.2","eslint-plugin-flowtype":"2.50.1","eslint-plugin-import":"2.16.0","eslint-plugin-jsx-a11y":"6.2.1","eslint-plugin-prettier":"^2.0.0","eslint-plugin-react":"7.12.4","eslint-plugin-react-hooks":"^1.5.0",exceljs:"^4.2.0","file-loader":"3.0.1","file-saver":"^2.0.5","fs-extra":"7.0.1",git:"^0.1.5",glamorous:"^5.0.0","html-webpack-plugin":"4.0.0-beta.5",husky:"^2.0.0","identity-obj-proxy":"3.0.0","is-wsl":"^1.1.0",jest:"24.7.1","jest-environment-jsdom-fourteen":"0.1.0","jest-resolve":"24.7.1","jest-watch-typeahead":"0.3.0","jss-rtl":"^0.2.3",leaflet:"^1.7.1",md5:"^2.3.0","mini-css-extract-plugin":"0.5.0",numeral:"^2.0.6","optimize-css-assets-webpack-plugin":"5.0.1","pnp-webpack-plugin":"1.2.1","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"7.0.1","postcss-preset-env":"6.6.0","postcss-safe-parser":"4.0.1",prettier:"1.12.1","pretty-quick":"^1.10.0",ramda:"^0.26.1",react:"^16.14.0","react-app-polyfill":"^1.0.6","react-dev-utils":"^9.1.0","react-dom":"^16.14.0","react-intl":"^2.8.0","react-jss":"^8.6.1","react-redux":"^7.2.2","react-responsive":"^6.1.1",redux:"^4.0.5","redux-logger":"^3.0.6","redux-thunk":"^2.3.0",reselect:"^4.0.0",resolve:"^1.19.0","sass-loader":"7.1.0",semver:"6.0.0","style-loader":"0.23.1","terser-webpack-plugin":"1.2.3","url-loader":"1.1.2",webpack:"4.29.6","webpack-dev-server":"3.2.1","webpack-manifest-plugin":"2.0.4","workbox-webpack-plugin":"4.2.0",yarn:"^1.22.10"},scripts:{"eslint-check":"eslint --print-config .eslintrc.json | eslint-config-prettier-check",lint:"eslint src --color",start:"cross-env NODE_ENV=development node scripts/start.js",build:"cross-env NODE_ENV=production node scripts/build.js",test:"cross-env NODE_ENV=test node scripts/test.js"},eslintConfig:{env:{browser:!0,jest:!0,node:!0,es6:!0},extends:["eslint:recommended","plugin:react/recommended"],parser:"babel-eslint",parserOptions:{ecmaFeatures:{experimentalObjectRestSpread:!0,jsx:!0},sourceType:"module"},plugins:["prettier","react","import"],rules:{"no-console":"warn","no-unused-vars":"warn","react/display-name":"off"}},browserslist:{production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]},jest:{verbose:!0,collectCoverageFrom:["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],setupFiles:["react-app-polyfill/jsdom"],setupFilesAfterEnv:[],testMatch:["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],testEnvironment:"jest-environment-jsdom-fourteen",transform:{"^.+\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},transformIgnorePatterns:["[/\\\\]node_modules[/\\\\].+\\.(js|jsx|ts|tsx)$","^.+\\.module\\.(css|sass|scss)$"],modulePaths:[],moduleNameMapper:{"^react-native$":"react-native-web","^.+\\.module\\.(css|sass|scss)$":"identity-obj-proxy"},moduleFileExtensions:["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"],watchPlugins:["jest-watch-typeahead/filename","jest-watch-typeahead/testname"]},babel:{presets:["react-app"]},husky:{hooks:{"pre-commit":"pretty-quick --staged"}},prettier:{useTabs:!1,printWidth:100,tabWidth:2,singleQuote:!0,trailingComma:"all",jsxBracketSameLine:!1,bracketSpacing:!0,parser:"babylon",semi:!0},homepage:".",devDependencies:{}}},966:function(e,a){},980:function(e,a,t){e.exports=t.p+"static/media/data-explorer-logo.png"},990:function(e,a,t){e.exports=t(2080)}},[[990,1,2]]]);
//# sourceMappingURL=main.chunk.js.map